{"mappings":"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","sources":["node_modules/uuid/dist/esm-browser/rng.js","node_modules/@swc/helpers/src/_assert_this_initialized.js","node_modules/@swc/helpers/src/_async_to_generator.js","node_modules/@swc/helpers/src/_class_call_check.js","node_modules/@swc/helpers/src/_create_class.js","node_modules/@swc/helpers/src/_define_property.js","node_modules/@swc/helpers/src/_get_prototype_of.js","node_modules/@swc/helpers/src/_set_prototype_of.js","node_modules/@swc/helpers/src/_inherits.js","node_modules/@swc/helpers/src/_object_spread.js","node_modules/@swc/helpers/src/_type_of.js","node_modules/@swc/helpers/src/_possible_constructor_return.js","node_modules/@swc/helpers/src/_iterable_to_array.js","node_modules/@swc/helpers/src/_sliced_to_array.js","node_modules/@swc/helpers/src/_array_with_holes.js","node_modules/@swc/helpers/src/_non_iterable_rest.js","node_modules/@swc/helpers/src/_to_consumable_array.js","node_modules/@swc/helpers/src/_array_without_holes.js","node_modules/@swc/helpers/src/_non_iterable_spread.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-5b19c1813f3c7812.js","node_modules/uuid/dist/esm-browser/regex.js","node_modules/uuid/dist/esm-browser/validate.js","node_modules/uuid/dist/esm-browser/stringify.js","node_modules/uuid/dist/esm-browser/v4.js","src/utils/EventBus.ts","src/utils/Block.ts","src/pages/reg/reg.pug","src/components/Button/button.pug","src/components/Button/index.ts","src/components/Button/Button.ts","src/components/Input/index.ts","src/components/Input/Input.ts","src/components/MainForm/mainForm.pug","src/components/MainForm/index.ts","src/components/MainForm/MainForm.ts","src/components/Form/Form.ts","src/components/Identification/identification.pug","src/components/Identification/index.ts","src/components/Identification/Identification.ts","src/components/Helper/helper.pug","src/utils/HTTP.ts","src/components/Helper/index.ts","src/components/Helper/Helper.ts","src/utils/Route.ts","src/utils/Router.ts","src/utils/base-api.ts","src/api/auth-api.ts","src/store/actrionCreaters/setAuthError.ts","src/store/actrionCreaters/setProfile.ts","src/store/actrionCreaters/setRegError.ts","src/utils/Store.ts","node_modules/regenerator-runtime/runtime.js","src/services/AuthService.ts","src/utils/isEqual.ts","src/utils/memoize.ts","src/store/selectors/selectRegError.ts","src/pages/reg/Reg.ts","src/pages/auth/auth.pug","src/store/selectors/selectAuthError.ts","src/pages/auth/Auth.ts","src/api/chats-api.ts","src/store/actrionCreaters/setActiveChatId.ts","src/store/actrionCreaters/setChatNamePopUpDisable.ts","src/store/actrionCreaters/setChats.ts","src/store/selectors/selectChat.ts","src/store/actrionCreaters/addNewMessages.ts","src/store/actrionCreaters/addOldMessages.ts","src/store/selectors/selectActiveChat.ts","src/store/selectors/selectProfile.ts","src/services/MessagesService.ts","src/services/ChatsService.ts","src/components/ChatItem/chatItem.pug","src/components/ChatItem/index.ts","src/components/ChatItem/ChatItem.ts","src/components/ProfileButton/profileButton.pug","src/components/ProfileButton/index.ts","src/components/ProfileButton/ProfileButton.ts","src/components/ChatsList/chatsList.pug","src/store/selectors/selectChats.ts","src/store/actrionCreaters/setChatNamePopUpActive.ts","src/utils/transformDate.ts","src/components/ChatBar/chatsBar.pug","src/components/ChatBar/index.ts","src/components/ChatBar/ChatsBar.ts","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-43752206dc8639d3.js","src/utils/getAvatar.ts","src/components/ChatsList/index.ts","src/components/ChatsList/ChatsList.ts","src/pages/chat/chat.pug","src/components/ChatWindow/chatWindow.pug","src/components/CreateMessege/createMessege.pug","src/components/CreateMessege/index.ts","src/components/CreateMessege/CreateMessege.ts","src/store/selectors/selectMessages.ts","src/components/MessagesList/messagesList.pug","src/components/Message/message.pug","src/components/Message/index.ts","src/components/Message/Message.ts","src/components/MessagesList/index.ts","src/components/MessagesList/MessagesList.ts","src/api/members-api.ts","src/store/actrionCreaters/setChatSettingsPopUpActive.ts","src/store/actrionCreaters/setMembers.ts","src/services/MembersService.ts","src/components/Icon/index.ts","src/components/Icon/Icon.ts","src/components/ChatWindow/index.ts","src/components/ChatWindow/ChatWindow.ts","src/components/PopUp/popUp.pug","src/components/PopUp/index.ts","src/components/PopUp/PopUp.ts","src/components/CreateChat/createChat.pug","src/components/CreateChat/index.ts","src/components/CreateChat/CreateChat.ts","src/store/selectors/selectCreateChatPopUpVisible.ts","src/store/actrionCreaters/setChatSettingsPopUpDisable.ts","src/store/selectors/selectChatSettingPopUpVisible.ts","src/api/user-api.ts","src/store/actrionCreaters/clearPasswordError.ts","src/store/actrionCreaters/clearProfileError.ts","src/store/actrionCreaters/setPasswordError.ts","src/store/actrionCreaters/setProfileError.ts","src/store/actrionCreaters/setSearchUsers.ts","src/store/selectors/checkChatRoot.ts","src/store/selectors/selectSearchUsers.ts","src/services/UsersService.ts","src/store/selectors/selectMembersWithUsers.ts","src/components/ChatSettingsUsers/chatSettingsUsers.pug","src/components/ChatSettingsUsers/index.ts","src/components/ChatSettingsUsers/ChatSettingsUsers.ts","src/components/ChatSettings/chatSettings.pug","src/components/MemberItom/memberItom.pug","src/components/MemberItom/index.ts","src/components/MemberItom/MemberItom.ts","src/components/ChatSettings/index.ts","src/components/ChatSettings/ChatSettings.ts","src/pages/chat/Chat.ts","src/pages/profile/profile.pug","src/store/selectors/selectPasswordError.ts","src/store/selectors/selectProfileError.ts","src/components/ProfileEditor/profileEditor.pug","src/components/ProfileEditor/index.ts","src/components/ProfileEditor/ProfileEditor.ts","src/pages/profile/index.ts","src/pages/profile/Profile.ts","src/store/reducers/popUpReducer.ts","src/store/reducers/chatsReducer.ts","src/store/reducers/currentChatReducer.ts","src/store/reducers/searchUsersReducer.ts","src/store/reducers/profileReducer.ts","src/store/reducers/errorsReducer.ts","src/store/createStore.ts","src/index.ts"],"sourcesContent":["// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n","function getPrototypeOf(o) {\n  getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return getPrototypeOf(o);\n}\n\nexport default function _getPrototypeOf(o) {\n  return getPrototypeOf(o);\n}","function setPrototypeOf(o, p) {\n  setPrototypeOf = Object.setPrototypeOf || function setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return setPrototypeOf(o, p);\n}\n\nexport default function _setPrototypeOf(o, p) {\n  return setPrototypeOf(o, p);\n}\n","import setPrototypeOf from './_set_prototype_of';\n\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n","import defineProperty from './_define_property';\n\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","export default function _typeof(obj) {\n    return obj && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n};\n","import assertThisInitialized from './_assert_this_initialized';\nimport _typeof from './_type_of';\n\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n","import arrayWithHoles from './_array_with_holes';\nimport iterableToArrayLimit from './_iterable_to_array';\nimport nonIterableRest from './_non_iterable_rest';\n\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n","import arrayWithoutHoles from './_array_without_holes';\nimport iterableToArray from './_iterable_to_array';\nimport nonIterableSpread from './_non_iterable_spread';\n\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n","\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"3rcRr\\\":\\\"auth.511110fb.js\\\",\\\"20k4a\\\":\\\"avatar.d36d91cd.jpg\\\"}\"));","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","type Listener = Array<(...args: any[]) => {} | null>;\n\ntype Listeners = {\n  [index: string]: Listener;\n};\n\nclass EventBus {\n  listeners: Listeners;\n\n  constructor() {\n    this.listeners = {};\n  }\n\n  on(event: string, callback: () => {}): void {\n    if (!this.listeners[event]) {\n      this.listeners[event] = [];\n    }\n\n    this.listeners[event].push(callback);\n  }\n\n  off(event: string, callback: () => {}) {\n    if (!this.listeners[event]) {\n      throw new Error(` : ${event}`);\n    }\n\n    this.listeners[event] = this.listeners[event].filter(\n      (listener) => listener !== callback,\n    );\n  }\n\n  emit(event: string, ...args: any[]) {\n    if (!this.listeners[event]) {\n      throw new Error(` : ${event}`);\n    }\n    this.listeners[event].forEach((listener) => {\n      listener(...args);\n    });\n  }\n}\n\nexport default EventBus;\n","/* eslint-disable class-methods-use-this */\n/* eslint-disable @typescript-eslint/no-unused-vars */\nimport { v4 as makeUUID } from 'uuid';\nimport Attrs from '../types/Attrs';\nimport Events from '../types/Events';\nimport Props from '../types/Props';\nimport EventBus from './EventBus';\n\ntype BlockMeta = {\n  tagName: string;\n  props: Props;\n  attrs: Attrs;\n};\n\nclass Block {\n  public meta: BlockMeta;\n\n  public props: Props;\n\n  public attrs: Attrs;\n\n  public components: { [index: string]: Block } | undefined;\n\n  public eventBus: () => EventBus;\n\n  public id: string;\n\n  private elementIn: HTMLElement;\n\n  static EVENTS = {\n    INIT: 'init',\n    FLOW_CDM: 'flow:component-did-mount',\n    FLOW_CDU: 'flow:component-did-update',\n    FLOW_RENDER: 'flow:render',\n  };\n\n  constructor(tagName: string = 'div', attrs: Attrs = {}, props: Props = {}) {\n    const eventBus = new EventBus();\n    this.meta = {\n      tagName,\n      props,\n      attrs,\n    };\n    this.id = makeUUID();\n    const propsWithThis = { ...props };\n    if (propsWithThis.events) {\n      propsWithThis.events = this.bindBlockToEvents(propsWithThis.events);\n    }\n    this.props = this.makePropsProxy(propsWithThis);\n    this.attrs = attrs;\n    this.eventBus = () => eventBus;\n    this.registerEvents(eventBus);\n    eventBus.emit(Block.EVENTS.INIT);\n  }\n\n  private registerEvents(eventBus: EventBus) {\n    eventBus.on(Block.EVENTS.INIT, this.init.bind(this));\n    eventBus.on(Block.EVENTS.FLOW_CDM, this.componentDidMountIn.bind(this));\n    eventBus.on(Block.EVENTS.FLOW_CDU, this.componentDidUpdateIn.bind(this));\n    eventBus.on(Block.EVENTS.FLOW_RENDER, this.renderIn.bind(this));\n  }\n\n  private bindBlockToEvents(events: Events): Events {\n    const newEvents: Events = {};\n    Object.entries(events).forEach(([event, func]) => {\n      newEvents[event] = (e) => {\n        func(e, this);\n      };\n    });\n    return newEvents;\n  }\n\n  private makePropsProxy(props: Props) {\n    const proxy = new Proxy(props, {\n      set: (target, prop: string, val: any) => {\n        const old: Props = { ...target };\n        if (prop === 'events') {\n          // eslint-disable-next-line no-param-reassign\n          target[prop] = this.bindBlockToEvents(val);\n          return true;\n        }\n        // eslint-disable-next-line no-param-reassign\n        target[prop] = val;\n        this.eventBus().emit(Block.EVENTS.FLOW_CDU, old, target);\n        return true;\n      },\n    });\n    return proxy;\n  }\n\n  private init() {\n    this.createResources();\n    this.eventBus().emit(Block.EVENTS.FLOW_CDM);\n  }\n\n  private createResources() {\n    const { tagName } = this.meta;\n    this.elementIn = document.createElement(tagName);\n  }\n\n  private componentDidMountIn() {\n    this.componentDidMount();\n    this.eventBus().emit(Block.EVENTS.FLOW_RENDER);\n  }\n\n  private renderBlocks(block: string) {\n    const fragment = document.createElement('template');\n    fragment.innerHTML = block;\n    Object.values(this.props)\n      .reduce((blockProps, value) => {\n        if (Array.isArray(value) && value.every((v) => v instanceof Block)) {\n          return blockProps.concat(value);\n        }\n        if (value instanceof Block) {\n          blockProps.push(value);\n        }\n        return blockProps;\n      }, [])\n      .forEach((value: Block) => {\n        const stub = fragment.content.querySelector(`[data-uuid=\"${value.id}\"]`);\n        if (stub) {\n          stub.replaceWith(value.element);\n        }\n      });\n    return fragment.content;\n  }\n\n  private renderIn() {\n    const block: string = this.render();\n    this.removeEvents();\n    this.removeAttrs();\n    const content: DocumentFragment = this.renderBlocks(block);\n    this.elementIn.innerHTML = '';\n    this.elementIn.appendChild(content);\n    this.addAttrs();\n    this.addEvents();\n  }\n\n  private addAttrs() {\n    Object.entries(this.attrs).forEach(([attr, value]) => {\n      this.elementIn.setAttribute(attr, value);\n    });\n  }\n\n  private removeAttrs() {\n    Object.keys(this.attrs).forEach((attr) => {\n      this.elementIn.removeAttribute(attr);\n    });\n  }\n\n  toString() {\n    return `<div data-uuid = ${this.id}></div>`;\n  }\n\n  private removeEvents() {\n    if (!this.props.events) {\n      return;\n    }\n    Object.entries(this.props.events).forEach(([eventName, eventFunc]) => {\n      this.element.removeEventListener(eventName, eventFunc);\n    });\n  }\n\n  private addEvents() {\n    if (!this.props.events) {\n      return;\n    }\n    Object.entries(this.props.events).forEach(([eventName, eventFunc]) => {\n      this.element.addEventListener(eventName, eventFunc);\n    });\n  }\n\n  private componentDidUpdateIn(oldProps: Props, newProps: Props) {\n    this.componentDidUpdate(oldProps, newProps);\n    if (oldProps !== newProps) {\n      this.eventBus().emit(Block.EVENTS.FLOW_RENDER);\n    }\n  }\n\n  get element() {\n    return this.elementIn;\n  }\n\n  public setProps(nextProps: Props) {\n    if (!nextProps) {\n      return;\n    }\n    Object.assign(this.props, nextProps);\n  }\n\n  public render(): string {\n    return '';\n  }\n\n  public componentDidMount() {}\n\n  public componentDidUpdate(_oldProps: Props, _newProps: Props) {}\n}\nexport default Block;\n","include ../../templates/centering/centering\r\n\r\n+centering\r\n  div \r\n    | !{form}","span.button__text !{content}","import Button from './Button';\n\nexport default Button;\n","import BlockEvent from '../../types/BlockEvent';\nimport Block from '../../utils/Block';\nimport button from './button.pug';\n\nclass Button extends Block {\n  constructor(props: {\n    fullWidth?: boolean,\n    content: string | Block,\n    onclick: BlockEvent,\n    theme?: 'link' | 'icon',\n  }) {\n    super('button', {}, {\n      fullWidth: props.fullWidth,\n      content: props.content,\n      theme: props.theme,\n      events: {\n        click: props.onclick,\n      },\n    });\n  }\n\n  setClass() {\n    let baseClass = 'button';\n    if (this.props.fullWidth) {\n      baseClass = `${baseClass} button_fullWidth`;\n    }\n    if (this.props.theme) {\n      baseClass = `${baseClass} button_theme_${this.props.theme}`;\n    }\n    this.attrs.class = baseClass;\n  }\n\n  render() {\n    this.setClass();\n    return button(this.props);\n  }\n}\n\nexport default Button;\n","import Input from './Input';\n\nexport default Input;\n","import Block from '../../utils/Block';\nimport Events from '../../types/Events';\n\nclass Input extends Block {\n  constructor(props: {\n    placeholder: string,\n    name: string,\n    type: string,\n    fullHeight?: boolean,\n    events?: Events,\n    validFunc?: (v: string) => boolean\n  }) {\n    super('input', {\n      class: 'input',\n      placeholder: props.placeholder,\n      name: props.name,\n      type: props.type,\n    }, {\n      events: props.events,\n      wrong: false,\n      validFunc: props.validFunc,\n      fullHeight: props.fullHeight,\n    });\n  }\n\n  setClass() {\n    let baseClass = 'input';\n    if (this.props.wrong) {\n      baseClass = `${baseClass} input_wrong`;\n    }\n    if (this.props.fullHeight) {\n      baseClass = `${baseClass} input_fullHeight`;\n    }\n    this.attrs.class = baseClass;\n  }\n\n  render() {\n    this.setClass();\n    return '';\n  }\n}\n\nexport default Input;\n",".main-form_content\r\n  each val in fields ? fields : ['There are no values'] \r\n      | !{val}\r\n.main-form_button\r\n  | !{button}\r\nif error\r\n    .main-form_error #{error}","import MainForm from './MainForm';\n\nexport default MainForm;\n","import Form from '../Form';\nimport mainForm from './mainForm.pug';\n\nclass MainForm<Fields> extends Form<Fields> {\n  constructor(props: {\n    fields: Array<{\n      placeholder: string,\n      name: string,\n      validFunc?: (v: string) => boolean,\n      type: string,\n    }>,\n    buttonText: string,\n    valid?: boolean,\n    error?: string,\n    submit: (formObj: Fields) => void,\n  }) {\n    super({\n      fields: props.fields,\n      buttonText: props.buttonText,\n      valid: props.valid,\n      error: props.error,\n      submit: props.submit,\n    });\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  render() {\n    return mainForm({\n      button: this.props.button,\n      fields: this.props.fields,\n      error: this.props.error,\n    });\n  }\n}\n\nexport default MainForm;\n","import Block from '../../utils/Block';\nimport Button from '../Button';\nimport Input from '../Input';\n\nclass Form<Fields> extends Block {\n  constructor(props: {\n    fields: Array<{\n      placeholder: string,\n      name: string,\n      validFunc?: (v: string) => boolean,\n      type: string,\n    }>,\n    buttonText: string,\n    valid?: boolean,\n    error?: string,\n    submit: (formObj: Fields) => void,\n  }) {\n    const fieldsArray: Array<Input> = props.fields\n      .map((f) => new Input({\n        events: {\n          blur: (_e, comp: Input) => {\n            this.checkInput(comp);\n          },\n          focus: (_e, comp: Input) => {\n            if (!f.validFunc) {\n              return;\n            }\n            comp.setProps({\n              wrong: false,\n            });\n          },\n        },\n        validFunc: f.validFunc,\n        placeholder: f.placeholder,\n        name: f.name,\n        type: f.type,\n      }));\n    super('div', {}, {\n      fields: fieldsArray,\n      button: new Button({\n        content: props.buttonText,\n        fullWidth: true,\n        onclick: () => {\n          const result = this.getFormValues();\n          if (!props.valid) {\n            props.submit(result);\n            return;\n          }\n          const status = this.checkValidFields();\n          if (status) {\n            props.submit(result);\n          }\n        },\n      }),\n    });\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  checkInput(input: Input) {\n    if (!input.props.validFunc) {\n      return;\n    }\n    const element = input.element as HTMLTextAreaElement;\n    const result: boolean = input.props.validFunc(element.value);\n    if (!result) {\n      input.setProps({\n        wrong: true,\n      });\n    }\n  }\n\n  checkValidFields() {\n    let statusFields = true;\n    this.props.fields.forEach((field: Input) => {\n      this.checkInput(field);\n      if (field.props.wrong === true) {\n        statusFields = false;\n      }\n    });\n    return statusFields;\n  }\n\n  getFormValues() {\n    const result = this.props.fields.reduce((sum: Record<string, string>, cur: Input) => {\n      const inputName: string = cur.attrs.name;\n      const input = cur.element as HTMLInputElement;\n      const newSum = {\n        ...sum,\n        [inputName]: input.value,\n      };\n      return newSum;\n    }, {});\n    return result;\n  }\n}\n\nexport default Form;\n",".identification\r\n  .identification_body\r\n    .identification_title\r\n      | #{title}\r\n    .identification_form\r\n      | !{form}\r\n  .identification_helper\r\n    | !{helper}","import Identification from './Identification';\n\nexport default Identification;\n","import Block from '../../utils/Block';\nimport Helper from '../Helper';\nimport MainForm from '../MainForm';\nimport identification from './identification.pug';\n\nclass Identification<Fields> extends Block {\n  constructor(props: {\n    title: string,\n    form: MainForm<Fields>,\n    helper?: Helper,\n  }) {\n    super('div', {}, {\n      title: props.title,\n      form: props.form,\n      helper: props.helper,\n    });\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  render() {\n    return identification({\n      title: this.props.title,\n      form: this.props.form,\n      helper: this.props.helper,\n    });\n  }\n}\n\nexport default Identification;\n",".helper\r\n  span.helper__text #{text}  \r\n    span.helper__button !{link}","import RequestOptions from '../types/RequestOptions';\n\nconst METHODS = {\n  GET: 'GET',\n  PUT: 'PUT',\n  POST: 'POST',\n  DELETE: 'DELETE',\n};\n\nclass HTTP {\n  private startUrl: string;\n\n  private timeout: number;\n\n  private headers: { [index: string]: string };\n\n  constructor(startUrl: string, options: {\n    timeout?: number,\n    headers?: { [index: string]: string }\n  } = {}) {\n    this.startUrl = startUrl;\n    this.timeout = options.timeout || 10000;\n    this.headers = options.headers || {};\n  }\n\n  get<Response>(url: string) {\n    const newUrl = this.startUrl + url;\n    return this.request<null, Response>(\n      newUrl,\n      {\n        method: METHODS.GET,\n      },\n    );\n  }\n\n  put<Request, Response>(url: string, data: Request) {\n    return this.request<Request, Response>(\n      this.startUrl + url,\n      {\n        data,\n        method: METHODS.PUT,\n      },\n    );\n  }\n\n  post<Request, Response>(url: string, data?: Request) {\n    return this.request<Request, Response>(\n      this.startUrl + url,\n      {\n        data,\n        method: METHODS.POST,\n      },\n    );\n  }\n\n  delete<Request, Response>(url: string, data: Request) {\n    return this.request<Request, Response>(\n      this.startUrl + url,\n      {\n        data,\n        method: METHODS.DELETE,\n      },\n    );\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  request<Request, Response>(url: string, options: RequestOptions<Request>): Promise<Response> {\n    const {\n      method,\n      data,\n    } = options;\n    return new Promise((resolve, reject) => {\n      const xhr = new XMLHttpRequest();\n\n      xhr.open(method, url);\n\n      Object.entries(this.headers).forEach((v) => xhr.setRequestHeader(...v));\n\n      xhr.responseType = 'json';\n      xhr.onload = () => {\n        if (xhr.status < 400) {\n          resolve(xhr.response);\n        } else {\n          reject(xhr.response);\n        }\n      };\n\n      xhr.onabort = reject;\n      xhr.onerror = reject;\n      xhr.timeout = this.timeout;\n      xhr.ontimeout = reject;\n      xhr.withCredentials = true;\n      xhr.setRequestHeader('Content-Type', 'application/json');\n      if (method === METHODS.GET || !data) {\n        xhr.send();\n      } else {\n        xhr.send(JSON.stringify(data));\n      }\n    });\n  }\n}\n\nexport default HTTP;\n","import Helper from './Helper';\n\nexport default Helper;\n","import BlockEvent from '../../types/BlockEvent';\nimport Block from '../../utils/Block';\nimport Button from '../Button';\nimport identification from './helper.pug';\n\nclass Helper extends Block {\n  constructor(props: {\n    text: string,\n    textLink: string,\n    onclick: BlockEvent,\n  }) {\n    super('div', {}, {\n      text: props.text,\n      link: new Button({\n        onclick: props.onclick,\n        content: props.textLink,\n        theme: 'link',\n      }),\n    });\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  render() {\n    return identification({\n      text: this.props.text,\n      link: this.props.link,\n    });\n  }\n}\n\nexport default Helper;\n","import Block from './Block';\n\nclass Route {\n  public pathname: string;\n\n  private BlockClass: typeof Block;\n\n  private block: Block | null;\n\n  private currentRoot: HTMLElement;\n\n  constructor(pathname: string, view: typeof Block, currentRoot: HTMLElement) {\n    this.pathname = pathname;\n    this.BlockClass = view;\n    this.block = null;\n    this.currentRoot = currentRoot;\n  }\n\n  match(pathname: string) {\n    return pathname === this.pathname;\n  }\n\n  render() {\n    this.block = new this.BlockClass();\n    this.currentRoot.innerHTML = '';\n    this.currentRoot.appendChild(this.block.element);\n  }\n}\n\nexport default Route;\n","import Block from './Block';\nimport Route from './Route';\n\nclass Router {\n  private currentRoot: HTMLElement;\n\n  public static instance: Router | undefined;\n\n  public routes: Array<Route>;\n\n  private history: History;\n\n  constructor(currentRoot?: HTMLElement) {\n    if (Router.instance) {\n      return Router.instance;\n    }\n    if (!currentRoot) {\n      throw Error('undefind root node');\n    }\n    this.routes = [];\n    this.history = window.history;\n    this.currentRoot = currentRoot;\n\n    Router.instance = this;\n  }\n\n  use(pathname: string, block: typeof Block) {\n    const route = new Route(pathname, block, this.currentRoot);\n    this.routes.push(route);\n    return this;\n  }\n\n  start() {\n    window.onpopstate = ((e) => {\n      const window = e.target as Window;\n      this.onRoute(window.location.pathname);\n    });\n\n    this.onRoute(window.location.pathname);\n  }\n\n  private onRoute(pathname: string) {\n    const route = this.getRoute(pathname);\n    if (!route) {\n      return;\n    }\n    route.render();\n  }\n\n  go(pathname: string) {\n    this.history.pushState({}, pathname, pathname);\n    this.onRoute(pathname);\n  }\n\n  back() {\n    this.history.back();\n  }\n\n  forward() {\n    this.history.forward();\n  }\n\n  private getRoute(pathname: string) {\n    return this.routes.find((route) => route.match(pathname));\n  }\n}\nexport default Router;\n","abstract class BaseAPI {\n  abstract create?(param: any): Promise<any>;\n\n  abstract request?(param: any): Promise<any>;\n\n  abstract update?(param: any): Promise<any>;\n\n  abstract delete?(param: any): Promise<any>;\n}\n\nexport default BaseAPI;\n","import LoginRequest from '../types/LoginRequest';\nimport { Profile, RegUser } from '../types/User';\nimport BaseAPI from '../utils/base-api';\nimport HTTP from '../utils/HTTP';\n\nconst authAPIInstance = new HTTP('https://ya-praktikum.tech/api/v2/auth');\n\nclass AuthAPI extends BaseAPI {\n  public login(user: LoginRequest) {\n    return authAPIInstance.post<LoginRequest, void>('/signin', user);\n  }\n\n  public logout() {\n    return authAPIInstance.post<void, void>('/logout');\n  }\n\n  public create(user: RegUser) {\n    return authAPIInstance.post<RegUser, { id: number }>('/signup', user);\n  }\n\n  public request() {\n    return authAPIInstance.get<Profile>('/user');\n  }\n\n  update: undefined;\n\n  delete: undefined;\n}\n\nexport default AuthAPI;\n","import ApiError from '../../types/ApiError';\n\nconst setAuthError = (payload: ApiError) => ({\n  type: 'errors/SETAUTH',\n  payload,\n});\n\nexport default setAuthError;\n","import { Profile } from '../../types/User';\n\nconst setProfile = (profile: Profile) => ({\n  type: 'profile/SET',\n  payload: profile,\n});\n\nexport default setProfile;\n","import ApiError from '../../types/ApiError';\n\nconst setRegError = (payload: ApiError) => ({\n  type: 'errors/SETREG',\n  payload,\n});\n\nexport default setRegError;\n","import Action from '../types/Action';\nimport Listener from './Listener';\nimport Reducer from './Reducer';\n\nclass Store {\n  private state: Indexed = {};\n\n  private listeners: Array<Listener> = [];\n\n  private reducers: {\n    [index: string]: Reducer\n  } = {};\n\n  public addReducer(name: string, reducer: Reducer) {\n    this.reducers[name] = reducer;\n\n    this.dispatch({\n      type: '@@INIT',\n    });\n    return this;\n  }\n\n  public getState() {\n    return this.state;\n  }\n\n  public dispatch(action: Action) {\n    this.state = this.reducer(action);\n\n    this.emitListeners();\n  }\n\n  private emitListeners() {\n    this.listeners.forEach((listener) => listener(this.state));\n  }\n\n  public subscribe(listener: Listener) {\n    listener(this.state);\n    this.listeners.push(listener);\n  }\n\n  private reducer(action: Action) {\n    const newState: Indexed = {};\n    Object.entries(this.reducers).forEach(([key, reducer]) => {\n      newState[key] = reducer(this.state[key], action);\n    });\n\n    return newState;\n  }\n}\nexport default new Store();\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","import AuthAPI from '../api/auth-api';\nimport setAuthError from '../store/actrionCreaters/setAuthError';\nimport setProfile from '../store/actrionCreaters/setProfile';\nimport setRegError from '../store/actrionCreaters/setRegError';\nimport LoginRequest from '../types/LoginRequest';\nimport { RegUser } from '../types/User';\nimport Router from '../utils/Router';\nimport Store from '../utils/Store';\n\nclass AuthService {\n  private api: AuthAPI;\n\n  constructor() {\n    this.api = new AuthAPI();\n  }\n\n  public async login(data: LoginRequest) {\n    try {\n      await this.api.login(data);\n      (new Router()).go('/');\n    } catch (error) {\n      Store.dispatch(setAuthError(error));\n    }\n  }\n\n  public async logout() {\n    try {\n      await this.api.logout();\n      (new Router()).go('/auth/');\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.log(err);\n    }\n  }\n\n  public async reg(data: RegUser) {\n    try {\n      await this.api.create(data);\n      (new Router()).go('/');\n    } catch (error) {\n      Store.dispatch(setRegError(error));\n    }\n  }\n\n  public async getProfile() {\n    try {\n      const user = await this.api.request();\n      Store.dispatch(setProfile(user));\n    } catch (err) {\n      (new Router()).go('/auth/');\n    }\n  }\n\n  public async checkNotAuth() {\n    const user = await this.api.request();\n    (new Router()).go('/');\n    Store.dispatch(setProfile(user));\n  }\n}\n\nexport default new AuthService();\n","type PlainObject<T = any> = {\n  [k in string]: T;\n};\n\nfunction isPlainObject(value: unknown): value is PlainObject {\n  return (\n    typeof value === 'object'\n    && value !== null\n    && value.constructor === Object\n    && Object.prototype.toString.call(value) === '[object Object]'\n  );\n}\n\nfunction isArray(value: unknown): value is [] {\n  return Array.isArray(value);\n}\n\nfunction isArrayOrObject(value: unknown): value is [] | PlainObject {\n  return isPlainObject(value) || isArray(value);\n}\n\nfunction isEqual(lhs: PlainObject, rhs: PlainObject) {\n  if (Object.keys(lhs).length !== Object.keys(rhs).length) {\n    return false;\n  }\n\n  // eslint-disable-next-line no-restricted-syntax\n  for (const [key, value] of Object.entries(lhs)) {\n    const rightValue = rhs[key];\n    if (isArrayOrObject(value) && isArrayOrObject(rightValue)) {\n      if (isEqual(value, rightValue)) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n      return false;\n    }\n    if (value !== rightValue) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport default isEqual;\n","import isEqual from './isEqual';\n\nconst memoize = <Data = any>(dataFunc: (state: any) => Data, actionFunc: (data: Data) => void) => {\n  let memo: Data;\n  return (state: any) => {\n    const data = dataFunc(state);\n    if (!isEqual({ a: data }, { a: memo })) {\n      actionFunc(data);\n      memo = data;\n    }\n  };\n};\n\nexport default memoize;\n","import ApiError from '../../types/ApiError';\n\nconst selectRegError = (state: Indexed) => state.errors.reg as ApiError | undefined;\n\nexport default selectRegError;\n","import Block from '../../utils/Block';\nimport reg from './reg.pug';\nimport MainForm from '../../components/MainForm';\nimport Identification from '../../components/Identification';\nimport Helper from '../../components/Helper';\nimport Router from '../../utils/Router';\nimport AuthService from '../../services/AuthService';\nimport memoize from '../../utils/memoize';\nimport selectRegError from '../../store/selectors/selectRegError';\nimport Store from '../../utils/Store';\nimport { RegUser } from '../../types/User';\n\nexport default class AuthPage extends Block {\n  constructor() {\n    super('div', {}, {\n      regForm: new Identification({\n        title: '',\n        form: new MainForm({\n          valid: true,\n          buttonText: '',\n          fields: [{\n            placeholder: '',\n            name: 'first_name',\n            type: 'text',\n            validFunc: (value: string) => /^[-A-Z][-a-z]+$/.test(value),\n          }, {\n            placeholder: '',\n            name: 'second_name',\n            type: 'text',\n            validFunc: (value: string) => /^[-A-Z][-a-z]+$/.test(value),\n          }, {\n            placeholder: '',\n            name: 'login',\n            type: 'text',\n            validFunc: (value: string) => /^(?=.*[a-zA-Z_-])[a-zA-Z0-9-_]{3,20}$/.test(value),\n          }, {\n            placeholder: '',\n            name: 'email',\n            type: 'text',\n            validFunc: (value: string) => /^(?=.*[a-zA-Z_@-])[a-zA-Z_@-]+@[a-zA-Z_-]+\\.[a-zA-Z_-]+$/.test(value),\n          }, {\n            placeholder: '',\n            name: 'phone',\n            type: 'text',\n            validFunc: (value: string) => /^[\\d/+]\\d{9,14}$/.test(value),\n          }, {\n            placeholder: '',\n            name: 'password',\n            type: 'password',\n            validFunc: (value: string) => /^(?=.*[A-Z-])(?=.*\\d).{8,40}$/.test(value),\n          }],\n          submit: (formObj: RegUser) => {\n            AuthService.reg(formObj);\n          },\n        }),\n        helper: new Helper({\n          text: '  ?',\n          onclick: () => {\n            (new Router()).go('/auth/');\n          },\n          textLink: '',\n        }),\n      }),\n    });\n  }\n\n  componentDidMount() {\n    AuthService.checkNotAuth();\n    const memoizeErrorMessage = memoize(\n      (state) => selectRegError(state),\n      (error) => {\n        if (!error) {\n          return;\n        }\n        this.props.regForm.props.form.setProps({\n          error: error.reason,\n        });\n      },\n    );\n    Store.subscribe((state) => {\n      memoizeErrorMessage(state);\n    });\n  }\n\n  render() {\n    return reg({\n      form: this.props.regForm,\n    });\n  }\n}\n","include ../../templates/centering/centering\r\n\r\n+centering\r\n  div \r\n    | !{form}","import ApiError from '../../types/ApiError';\n\nconst selectAuthError = (state: Indexed) => state.errors.auth as ApiError | undefined;\n\nexport default selectAuthError;\n","import Block from '../../utils/Block';\nimport auth from './auth.pug';\nimport Helper from '../../components/Helper';\nimport Identification from '../../components/Identification';\nimport MainForm from '../../components/MainForm';\nimport AuthService from '../../services/AuthService';\nimport LoginRequest from '../../types/LoginRequest';\nimport Router from '../../utils/Router';\nimport memoize from '../../utils/memoize';\nimport selectAuthError from '../../store/selectors/selectAuthError';\nimport Store from '../../utils/Store';\n\nexport default class AuthPage extends Block {\n  constructor() {\n    super('div', {}, {\n      form: new Identification<LoginRequest>({\n        title: '',\n        form: new MainForm({\n          valid: true,\n          buttonText: '',\n          fields: [{\n            placeholder: '',\n            name: 'login',\n            type: 'text',\n          }, {\n            placeholder: '',\n            name: 'password',\n            type: 'password',\n          }],\n          submit: async (formObj) => {\n            await AuthService.login(formObj);\n          },\n        }),\n        helper: new Helper({\n          text: ' ?',\n          onclick: () => {\n            (new Router()).go('/reg/');\n          },\n          textLink: '',\n        }),\n      }),\n    });\n  }\n\n  componentDidMount() {\n    AuthService.checkNotAuth();\n    const memoizeErrorMessage = memoize(\n      (state) => selectAuthError(state),\n      (error) => {\n        if (!error) {\n          return;\n        }\n        this.props.form.props.form.setProps({\n          error: error.reason,\n        });\n      },\n    );\n    Store.subscribe((state) => {\n      memoizeErrorMessage(state);\n    });\n  }\n\n  render() {\n    return auth({\n      form: this.props.form,\n    });\n  }\n}\n","import Chat from '../types/Chat';\nimport BaseAPI from '../utils/base-api';\nimport HTTP from '../utils/HTTP';\n\nconst chatsAPIInstance = new HTTP('https://ya-praktikum.tech/api/v2/chats');\n\nclass ChatsAPI extends BaseAPI {\n  public request() {\n    return chatsAPIInstance.get<Array<Chat>>('/');\n  }\n\n  public create(data: { title: string }) {\n    return chatsAPIInstance.post<{ title: string }, { id: number }>('/', data);\n  }\n\n  public token(chatId: number) {\n    return chatsAPIInstance.post<undefined, { token: string }>(`/token/${chatId}`);\n  }\n\n  update: undefined;\n\n  delete: undefined;\n}\n\nexport default ChatsAPI;\n","const setActiveChatId = (id: number) => ({\n  type: 'currentChat/SETACTIVECHATID',\n  payload: id,\n});\n\nexport default setActiveChatId;\n","const setChatNamePopUpDisable = () => ({\n  type: 'popUp/SETCHATNAMEDISABLE',\n});\n\nexport default setChatNamePopUpDisable;\n","import Chat from '../../types/Chat';\n\nconst setChats = (chats: Array<Chat>) => ({\n  type: 'chats/SET',\n  payload: chats,\n});\n\nexport default setChats;\n","import Chat from '../../types/Chat';\n\nconst selectChat = (state: Indexed, chatId: number): Chat | undefined => {\n  const c: Chat = state.chats.find((chat: Chat) => chat.id === chatId);\n  return c;\n};\n\nexport default selectChat;\n","import Message from '../../types/Message';\n\nconst addNewMessages = (chatId: number, messages: Array<Message>) => ({\n  type: 'chats/ADDNEWMESSAGES',\n  payload: {\n    chatId,\n    messages,\n  },\n});\n\nexport default addNewMessages;\n","import Message from '../../types/Message';\n\nconst addOldMessages = (chatId: number, messages: Array<Message>) => ({\n  type: 'chats/ADDOLDMESSAGES',\n  payload: {\n    chatId,\n    messages,\n  },\n});\n\nexport default addOldMessages;\n","import Chat from '../../types/Chat';\n\nconst selectActiveChat = (state: Indexed): Chat | undefined => {\n  // eslint-disable-next-line max-len\n  const activeChat: Chat = state.chats.find((chat: Chat) => chat.id === state.currentChat.activeChatId);\n  return activeChat;\n};\n\nexport default selectActiveChat;\n","import { Profile } from '../../types/User';\n\nconst selectProfile = (state: Indexed) => state.profile as Profile | undefined;\n\nexport default selectProfile;\n","import ChatsAPI from '../api/chats-api';\nimport addNewMessages from '../store/actrionCreaters/addNewMessages';\nimport addOldMessages from '../store/actrionCreaters/addOldMessages';\nimport selectActiveChat from '../store/selectors/selectActiveChat';\nimport selectProfile from '../store/selectors/selectProfile';\nimport Message from '../types/Message';\nimport Store from '../utils/Store';\n\nclass MessagesService {\n  private sockets: {\n    [key: number]: WebSocket;\n  } = {};\n\n  public async connect(chatId: number) {\n    const state = Store.getState();\n    const profile = selectProfile(state);\n    if (!profile) {\n      return;\n    }\n    const chatsApi = new ChatsAPI();\n    const { token } = await chatsApi.token(chatId);\n    const socket = new WebSocket(`wss://ya-praktikum.tech/ws/chats/${profile.id}/${chatId}/${token}`);\n    this.sockets[chatId] = socket;\n    socket.addEventListener('message', (event) => {\n      this.get(event.data, chatId);\n    });\n  }\n\n  private async get(data: string, chat_id: number) {\n    const result: Message = await JSON.parse(data);\n    if (result.type === 'message') {\n      Store.dispatch(addNewMessages(chat_id, [result]));\n    }\n    if (Array.isArray(result)) {\n      Store.dispatch(addOldMessages(chat_id, result));\n    }\n  }\n\n  public send(message: string) {\n    if (!message) {\n      return;\n    }\n    const state = Store.getState();\n    const chat = selectActiveChat(state);\n    if (!chat) {\n      return;\n    }\n    this.sockets[chat.id].send(JSON.stringify({\n      content: message,\n      type: 'message',\n    }));\n  }\n\n  public async getlastMessages(chatId: number, offset: number = 0) {\n    this.sockets[chatId].send(JSON.stringify({\n      content: offset,\n      type: 'get old',\n    }));\n  }\n}\n\nexport default new MessagesService();\n","import ChatsAPI from '../api/chats-api';\nimport setActiveChatId from '../store/actrionCreaters/setActiveChatId';\nimport setChatNamePopUpDisable from '../store/actrionCreaters/setChatNamePopUpDisable';\nimport setChats from '../store/actrionCreaters/setChats';\nimport selectChat from '../store/selectors/selectChat';\nimport Store from '../utils/Store';\nimport MessagesService from './MessagesService';\n\nclass ChatsService {\n  private api: ChatsAPI;\n\n  constructor() {\n    this.api = new ChatsAPI();\n  }\n\n  public async init() {\n    try {\n      const chats = await this.api.request();\n      Store.dispatch(setChats(chats));\n      chats.forEach((chat) => {\n        MessagesService.connect(chat.id);\n      });\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.log(error);\n    }\n  }\n\n  public async get(chatId: number) {\n    Store.dispatch(setActiveChatId(chatId));\n    const state = Store.getState();\n    const chat = selectChat(state, chatId);\n    if (!chat) {\n      return;\n    }\n    if (!chat.messages || chat.messages.length < 20) {\n      const offset = chat.messages ? chat.messages.length : 0;\n      MessagesService.getlastMessages(chatId, offset);\n    }\n  }\n\n  public async create(data: { title: string }) {\n    try {\n      await this.api.create(data);\n      Store.dispatch(setChatNamePopUpDisable());\n      this.init();\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.log(err);\n    }\n  }\n}\n\nexport default new ChatsService();\n",".chat-item__main\r\n  .chat-item__img-container\r\n    img.chat-item__img(src= img)\r\n  .chat-item__content\r\n    p.chat-item__author #{author} \r\n    p.chat-item__message #{message}\r\n.chat-item__meta\r\n    .chat-item__count\r\n      if count !== 0\r\n        .chat-item__count-text #{count}\r\n    p.chat-item__date #{date}","import ChatItem from './ChatItem';\n\nexport default ChatItem;\n","import ChatsService from '../../services/ChatsService';\nimport selectActiveChat from '../../store/selectors/selectActiveChat';\nimport Block from '../../utils/Block';\nimport memoize from '../../utils/memoize';\nimport Store from '../../utils/Store';\nimport chatItem from './chatItem.pug';\n\nclass ChatItem extends Block {\n  constructor(props: {\n    id: number,\n    author: string,\n    message: string,\n    date: string,\n    count: number,\n    img: string,\n  }) {\n    super('div', {}, {\n      id: props.id,\n      author: props.author,\n      message: props.message,\n      date: props.date,\n      count: props.count,\n      img: props.img,\n      active: false,\n      events: {\n        click: () => {\n          ChatsService.get(this.props.id);\n        },\n      },\n    });\n  }\n\n  setClass() {\n    let baseClass = 'chat-item';\n    if (this.props.active) {\n      baseClass = `${baseClass} chat-item_active`;\n    }\n    this.attrs.class = baseClass;\n  }\n\n  componentDidMount() {\n    const memoizeActiveChat = memoize(\n      (state) => selectActiveChat(state),\n      (data) => {\n        if (!data) {\n          return;\n        }\n        this.setProps({\n          active: this.props.id === data.id,\n        });\n      },\n    );\n    Store.subscribe((state) => {\n      memoizeActiveChat(state);\n    });\n  }\n\n  render() {\n    this.setClass();\n    return chatItem(this.props);\n  }\n}\n\nexport default ChatItem;\n",".profile-button\r\n  .profile-button__img-container\r\n    img.profile-button__img(src= avatar)\r\n  p.profile-button__name #{name}","import ProfileButton from './ProfileButton';\n\nexport default ProfileButton;\n","import Block from '../../utils/Block';\nimport Router from '../../utils/Router';\nimport profileButton from './profileButton.pug';\n\nclass ProfileButton extends Block {\n  constructor(props: {\n    avatar: string,\n    name: string,\n    link?: string,\n  }) {\n    super('div', {}, {\n      avatar: props.avatar,\n      name: props.name,\n      link: props.link,\n      events: {\n        click: () => {\n          if (this.props.link) {\n            (new Router()).go(this.props.link);\n          }\n        },\n      },\n    });\n  }\n\n  render() {\n    return profileButton(this.props);\n  }\n}\n\nexport default ProfileButton;\n",".chat-list__search !{search}\r\n.chat-list__bar !{chatBar}\r\n.chat-list__footer \r\n  .chat-list__profile !{profile}\r\n  .chat-list__add !{addChatButton} ","import Chat from '../../types/Chat';\n\nconst selectChats = (state: Indexed) => state.chats as Array<Chat>;\n\nexport default selectChats;\n","const setChatNamePopUpActive = () => ({\n  type: 'popUp/SETCHATNAMEACTIVE',\n});\n\nexport default setChatNamePopUpActive;\n","const transformDate = (time: string) => {\n  const date = new Date(Date.parse(time));\n  return `${date.getHours()}:${date.getMinutes()}`;\n};\n\nexport default transformDate;\n","each val in chats ? chats : ['There are no values']  \r\n  | !{val}","import ChatsBar from './ChatsBar';\n\nexport default ChatsBar;\n","import Block from '../../utils/Block';\nimport ChatItem from '../ChatItem';\nimport chatsBar from './chatsBar.pug';\n\nclass ChatsBar extends Block {\n  constructor() {\n    super('div', {}, {\n      chats: [],\n      searchValue: '',\n    });\n  }\n\n  render() {\n    const chats = this.props.chats\n      .filter((chat: ChatItem) => chat.props.author.startsWith(this.props.searchValue));\n    return chatsBar({\n      chats,\n    });\n  }\n}\n\nexport default ChatsBar;\n","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","module.exports = require('./helpers/bundle-url').getBundleURL('3rcRr') + require('./helpers/bundle-manifest').resolve(\"20k4a\");","import imageURL from '../../static/img/avatar.jpg';\n\nconst getAvatar = (link: string | undefined | null) => (link ? `https://ya-praktikum.tech/api/v2/resources${link}` : imageURL);\n\nexport default getAvatar;\n","import ChatsList from './ChatsList';\n\nexport default ChatsList;\n","import Block from '../../utils/Block';\nimport ChatItem from '../ChatItem';\nimport Input from '../Input';\nimport ProfileButton from '../ProfileButton';\nimport chatsList from './chatsList.pug';\nimport Button from '../Button';\nimport Store from '../../utils/Store';\nimport selectChats from '../../store/selectors/selectChats';\nimport setChatNamePopUpActive from '../../store/actrionCreaters/setChatNamePopUpActive';\nimport memoize from '../../utils/memoize';\nimport transformDate from '../../utils/transformDate';\nimport selectProfile from '../../store/selectors/selectProfile';\nimport ChatsBar from '../ChatBar';\nimport getAvatar from '../../utils/getAvatar';\n\nclass ChatsList extends Block {\n  constructor() {\n    super('div', {}, {\n      chatBar: new ChatsBar(),\n      search: new Input({\n        placeholder: '  ',\n        name: 'search',\n        type: 'text',\n        events: {\n          input: (e: KeyboardEvent) => {\n            if (!e.target) {\n              return;\n            }\n            const input = e.target as HTMLInputElement;\n            this.props.chatBar.setProps({\n              searchValue: input.value,\n            });\n          },\n        },\n      }),\n      addChatButton: new Button({\n        content: ' ',\n        onclick: () => {\n          Store.dispatch(setChatNamePopUpActive());\n        },\n      }),\n      profile: new ProfileButton({\n        avatar: '',\n        link: '/profile/',\n        name: '',\n      }),\n    });\n  }\n\n  setClass() {\n    const baseClass = 'chat-list';\n    this.attrs.class = baseClass;\n  }\n\n  componentDidMount() {\n    const memoizeSelectChats = memoize(\n      (state) => selectChats(state),\n      (data) => {\n        this.props.chatBar.setProps({\n          chats: data.map((c) => {\n            const lastMessege = c.messages ? c.messages[0] : c.last_message;\n            return new ChatItem({\n              id: c.id,\n              author: c.title,\n              message: lastMessege ? lastMessege.content : '  ',\n              date: lastMessege ? transformDate(lastMessege.time) : '',\n              count: c.unread_count,\n              img: getAvatar(c.avatar),\n            });\n          }),\n        });\n      },\n    );\n    const memoizeGetProfile = memoize(\n      (state) => selectProfile(state),\n      (profile) => {\n        if (!profile) {\n          return;\n        }\n        this.props.profile.setProps({\n          avatar: getAvatar(profile.avatar),\n          name: `${profile.first_name} ${profile.second_name}`,\n        });\n      },\n    );\n    Store.subscribe((state) => {\n      memoizeSelectChats(state);\n      memoizeGetProfile(state);\n    });\n  }\n\n  render() {\n    this.setClass();\n    return chatsList(this.props);\n  }\n}\n\nexport default ChatsList;\n","include ../../templates/centering/centering\r\n\r\n\r\n| !{chatList}\r\n| !{chatWindow}\r\n| !{chatNamePopUp}\r\n| !{chatSettingsPopUp}",".chat-window__header \r\n  .chat-window__profile \r\n    | !{profile}\r\n  .chat-window__settings-button \r\n    | !{chatSettingsButton}\r\n.chat-window__messeges\r\n  | !{messagesList}\r\n.chat-window__input\r\n  | !{message}",".create-message \r\n  .create-message_input !{inputMessage}\r\n  .create-message_button !{sendButton}","import CreateMessege from './CreateMessege';\n\nexport default CreateMessege;\n","import MessgesService from '../../services/MessagesService';\nimport Block from '../../utils/Block';\nimport Button from '../Button';\nimport Input from '../Input';\nimport createMessege from './createMessege.pug';\n\nclass CreateMessege extends Block {\n  constructor() {\n    super('div', {}, {\n      sendButton: new Button({\n        content: '',\n        onclick: () => this.sendMessage(),\n      }),\n      inputMessage: new Input({\n        placeholder: ' ',\n        name: 'message',\n        type: 'text',\n        fullHeight: true,\n      }),\n    });\n  }\n\n  sendMessage() {\n    const input = this.props.inputMessage.element as HTMLInputElement;\n    MessgesService.send(input.value);\n    input.value = '';\n  }\n\n  componentDidMount() {\n    document.addEventListener('keydown', (event) => {\n      if (event.key === 'Enter') {\n        event.preventDefault();\n        this.sendMessage();\n      }\n    });\n  }\n\n  render() {\n    return createMessege(this.props);\n  }\n}\n\nexport default CreateMessege;\n","import Message from '../../types/Message';\nimport selectActiveChat from './selectActiveChat';\n\nconst selectMessages = (state: Indexed): Array<Message> | undefined => {\n  const activeChat = selectActiveChat(state);\n  if (!activeChat) {\n    return [];\n  }\n  return activeChat.messages;\n};\n\nexport default selectMessages;\n","each val in messages ? messages : ['There are no values']  \r\n  | !{val}",".message_content  #{text}\r\n.message_footer \r\n  .message_author \r\n  .message_date  #{date}","import Message from './Message';\n\nexport default Message;\n","import Block from '../../utils/Block';\nimport message from './message.pug';\n\nclass Message extends Block {\n  constructor(props: {\n    id: number,\n    text: string,\n    date: string,\n    self: boolean,\n  }) {\n    super('div', {}, {\n      id: props.id,\n      text: props.text,\n      date: props.date,\n      self: props.self,\n    });\n  }\n\n  setClass() {\n    let baseClass = 'message';\n    if (this.props.self) {\n      baseClass = `${baseClass} message__self`;\n    }\n    this.attrs.class = baseClass;\n  }\n\n  render() {\n    this.setClass();\n    return message(this.props);\n  }\n}\n\nexport default Message;\n","import MessagesList from './MessagesList';\n\nexport default MessagesList;\n","import selectMessages from '../../store/selectors/selectMessages';\nimport Block from '../../utils/Block';\nimport memoize from '../../utils/memoize';\nimport Store from '../../utils/Store';\nimport messagesList from './messagesList.pug';\nimport Message from '../Message';\nimport selectProfile from '../../store/selectors/selectProfile';\nimport transformDate from '../../utils/transformDate';\n\nclass MessagesList extends Block {\n  constructor() {\n    super('div', {}, {\n      messages: ['dssdf', 'sdfsf'],\n    });\n  }\n\n  componentDidMount() {\n    const memoizeMessages = memoize(\n      (state) => {\n        const messages = selectMessages(state);\n        const profile = selectProfile(state);\n        return {\n          messages,\n          profile,\n        };\n      },\n      ({ messages, profile }) => {\n        if (!messages || !profile) {\n          return;\n        }\n        this.setProps({\n          messages: messages.map((d) => new Message({\n            id: d.id,\n            text: d.content,\n            date: transformDate(d.time),\n            self: d.user_id === profile.id,\n          })),\n        });\n      },\n    );\n    Store.subscribe((state) => {\n      memoizeMessages(state);\n    });\n  }\n\n  setClass() {\n    const baseClass = 'messages-list';\n    this.attrs.class = baseClass;\n  }\n\n  render() {\n    this.setClass();\n    return messagesList(this.props);\n  }\n}\n\nexport default MessagesList;\n","import { Member } from '../types/User';\nimport BaseAPI from '../utils/base-api';\nimport HTTP from '../utils/HTTP';\n\nconst membersAPIInstance = new HTTP('https://ya-praktikum.tech/api/v2/chats/users');\n\nclass MembersAPI extends BaseAPI {\n  public request(chatId: number) {\n    const api = new HTTP(`https://ya-praktikum.tech/api/v2/chats/${chatId}/users`);\n    return api.get<Array<Member>>('/');\n  }\n\n  public create(param: { userId: number, chatId: number }) {\n    return membersAPIInstance.put<{ users: Array<number>, chatId: number }, string>('/', { users: [param.userId], chatId: param.chatId });\n  }\n\n  public delete(param: { userId: number, chatId: number }) {\n    return membersAPIInstance.delete<{ users: Array<number>, chatId: number }, string>('/', { users: [param.userId], chatId: param.chatId });\n  }\n\n  update: undefined;\n}\n\nexport default MembersAPI;\n","const setChatSettingsPopUpActive = () => ({\n  type: 'popUp/SETCHATSETTINGACTIVE',\n});\n\nexport default setChatSettingsPopUpActive;\n","import { User } from '../../types/User';\n\nconst setMembers = (payload: { chatId: number, members: Array<User> }) => ({\n  type: 'chats/SETMEMBERS',\n  payload,\n});\n\nexport default setMembers;\n","import MembersAPI from '../api/members-api';\nimport setChatSettingsPopUpActive from '../store/actrionCreaters/setChatSettingsPopUpActive';\nimport setMembers from '../store/actrionCreaters/setMembers';\nimport selectActiveChat from '../store/selectors/selectActiveChat';\nimport Store from '../utils/Store';\n\nclass MembersService {\n  private api: MembersAPI;\n\n  constructor() {\n    this.api = new MembersAPI();\n  }\n\n  public openMembersPopUp() {\n    Store.dispatch(setChatSettingsPopUpActive());\n    const activeChat = selectActiveChat(Store.getState());\n    if (!activeChat) {\n      return;\n    }\n    this.get(activeChat.id);\n  }\n\n  public async get(chatId: number) {\n    try {\n      const members = await this.api.request(chatId);\n      Store.dispatch(setMembers({ chatId, members }));\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.log(error);\n    }\n  }\n\n  public async add(userId: number) {\n    try {\n      const chat = selectActiveChat(Store.getState());\n      if (!chat) {\n        return;\n      }\n      await this.api.create({ userId, chatId: chat.id });\n      this.get(chat.id);\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.log(error);\n    }\n  }\n\n  public async delete(userId: number) {\n    try {\n      const chat = selectActiveChat(Store.getState());\n      if (!chat) {\n        return;\n      }\n      await this.api.delete({ userId, chatId: chat.id });\n      this.get(chat.id);\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.log(error);\n    }\n  }\n}\n\nexport default new MembersService();\n","import Icon from './Icon';\n\nexport default Icon;\n","import Block from '../../utils/Block';\n\nclass Icon extends Block {\n  constructor(props: {\n    name: 'plus-square' | 'sliders' | 'trash-2',\n  }) {\n    super('div', {}, {\n      name: props.name,\n    });\n  }\n\n  setClass() {\n    const baseClass = `icon icon_name_${this.props.name}`;\n    this.attrs.class = baseClass;\n  }\n\n  render() {\n    this.setClass();\n    return '';\n  }\n}\n\nexport default Icon;\n","import ChatWindow from './ChatWindow';\n\nexport default ChatWindow;\n","import Block from '../../utils/Block';\nimport ProfileButton from '../ProfileButton';\nimport chatWindow from './chatWindow.pug';\nimport imageURL from '../../../static/img/avatar.jpg';\nimport Button from '../Button';\nimport Store from '../../utils/Store';\nimport selectActiveChat from '../../store/selectors/selectActiveChat';\nimport CreateMessege from '../CreateMessege';\nimport MessagesList from '../MessagesList';\nimport MembersService from '../../services/MembersService';\nimport Icon from '../Icon';\nimport getAvatar from '../../utils/getAvatar';\n\nclass ChatWindow extends Block {\n  constructor() {\n    super('div', {}, {\n      profile: new ProfileButton({\n        avatar: imageURL,\n        name: '',\n      }),\n      chatSettingsButton: new Button({\n        content: new Icon({\n          name: 'sliders',\n        }),\n        theme: 'icon',\n        onclick: () => MembersService.openMembersPopUp(),\n      }),\n      message: new CreateMessege(),\n      messagesList: new MessagesList(),\n    });\n  }\n\n  setClass() {\n    const baseClass = 'chat-window';\n    this.attrs.class = baseClass;\n  }\n\n  componentDidMount() {\n    Store.subscribe((state) => {\n      const chat = selectActiveChat(state);\n      if (!chat) {\n        return;\n      }\n      this.props.profile.setProps({\n        avatar: getAvatar(chat.avatar),\n        name: chat.title,\n      });\n    });\n  }\n\n  render() {\n    this.setClass();\n    return chatWindow(this.props);\n  }\n}\n\nexport default ChatWindow;\n",".content !{content}","import PopUp from './PopUp';\n\nexport default PopUp;\n","import BlockEvent from '../../types/BlockEvent';\nimport Block from '../../utils/Block';\nimport popUp from './popUp.pug';\n\nclass Button extends Block {\n  constructor(props: {\n    content: Block,\n    disableFunc: BlockEvent,\n    active: boolean,\n  }) {\n    super('div', {}, {\n      content: props.content,\n      events: {\n        mousedown: (e) => {\n          if (e.target === e.currentTarget) {\n            props.disableFunc();\n          }\n        },\n      },\n      active: props.active,\n    });\n  }\n\n  setClass() {\n    let baseClass = 'pop-up';\n    if (this.props.active) {\n      baseClass = `${baseClass} pop-up_active`;\n    } else {\n      baseClass = `${baseClass} pop-up_disable`;\n    }\n\n    this.attrs.class = baseClass;\n  }\n\n  render() {\n    this.setClass();\n    return popUp(this.props);\n  }\n}\n\nexport default Button;\n",".create-chat_title  \n.create-chat_form \n  | !{form}","import CreateChat from './CreateChat';\n\nexport default CreateChat;\n","import ChatsService from '../../services/ChatsService';\nimport Block from '../../utils/Block';\nimport MainForm from '../MainForm';\nimport createChat from './createChat.pug';\n\nclass CreateChat extends Block {\n  constructor() {\n    super('div', {}, {\n      form: new MainForm<{ name: string }>({\n        valid: true,\n        buttonText: ' ',\n        fields: [{\n          placeholder: ' ',\n          name: 'name',\n          type: 'text',\n        }],\n        submit: async (formObj) => {\n          ChatsService.create({ title: formObj.name });\n        },\n      }),\n    });\n  }\n\n  setClass() {\n    const baseClass = 'create-chat';\n    this.attrs.class = baseClass;\n  }\n\n  render() {\n    this.setClass();\n    return createChat(this.props);\n  }\n}\n\nexport default CreateChat;\n","const selectCreateChatPopUpVisible = (state: Indexed) => state.popUp.chatName as boolean;\n\nexport default selectCreateChatPopUpVisible;\n","const setChatSettingsPopUpDisable = () => ({\n  type: 'popUp/SETCHATSETTINGDISABLE',\n});\n\nexport default setChatSettingsPopUpDisable;\n","const selectChatSettingPopUpVisible = (state: Indexed) => state.popUp.chatSetting as boolean;\n\nexport default selectChatSettingPopUpVisible;\n","import { Profile, UpdateProfileUser, User } from '../types/User';\nimport BaseAPI from '../utils/base-api';\nimport HTTP from '../utils/HTTP';\n\nconst userAPIInstance = new HTTP('https://ya-praktikum.tech/api/v2/user');\n\nclass UsersAPI extends BaseAPI {\n  public search(login: string) {\n    return userAPIInstance.post<{ login: string }, Array<User>>('/search', { login });\n  }\n\n  public update(user: UpdateProfileUser) {\n    return userAPIInstance.put<UpdateProfileUser, Profile>('/profile', user);\n  }\n\n  public updatePassword(pass: {\n    oldPassword: string,\n    newPassword: string,\n  }) {\n    return userAPIInstance.put<{\n      oldPassword: string,\n      newPassword: string,\n    }, string>('/password', pass);\n  }\n\n  create: undefined;\n\n  request: undefined;\n\n  delete: undefined;\n}\n\nexport default UsersAPI;\n","const clearPasswordError = () => ({\n  type: 'errors/CLEARPASSWORD',\n});\n\nexport default clearPasswordError;\n","const clearProfileError = () => ({\n  type: 'errors/CLEARPROFILE',\n});\n\nexport default clearProfileError;\n","import ApiError from '../../types/ApiError';\n\nconst setPasswordError = (payload: ApiError) => ({\n  type: 'errors/SETPASSWORD',\n  payload,\n});\n\nexport default setPasswordError;\n","import ApiError from '../../types/ApiError';\n\nconst setProfileError = (payload: ApiError) => ({\n  type: 'errors/SETPROFILE',\n  payload,\n});\n\nexport default setProfileError;\n","import { User } from '../../types/User';\n\nconst setSearchUsers = (users: Array<User>) => ({\n  type: 'searchUsers/SETUSERS',\n  payload: users,\n});\n\nexport default setSearchUsers;\n","import selectActiveChat from './selectActiveChat';\nimport selectProfile from './selectProfile';\n\nconst checkChatRoot = (state: Indexed): boolean => {\n  const profile = selectProfile(state);\n  const chat = selectActiveChat(state);\n  return profile?.id === chat?.created_by;\n};\n\nexport default checkChatRoot;\n","import { User } from '../../types/User';\n\nconst selectSearchUsers = (state: Indexed) => state.searchUsers as Array<User>;\n\nexport default selectSearchUsers;\n","import UsersAPI from '../api/user-api';\nimport clearPasswordError from '../store/actrionCreaters/clearPasswordError';\nimport clearProfileError from '../store/actrionCreaters/clearProfileError';\nimport setPasswordError from '../store/actrionCreaters/setPasswordError';\nimport setProfile from '../store/actrionCreaters/setProfile';\nimport setProfileError from '../store/actrionCreaters/setProfileError';\nimport setSearchUsers from '../store/actrionCreaters/setSearchUsers';\nimport checkChatRoot from '../store/selectors/checkChatRoot';\nimport selectSearchUsers from '../store/selectors/selectSearchUsers';\nimport { UpdateProfileUser } from '../types/User';\nimport Store from '../utils/Store';\n\nclass UsersService {\n  private api: UsersAPI;\n\n  constructor() {\n    this.api = new UsersAPI();\n  }\n\n  public async search(login: string) {\n    try {\n      const state = Store.getState();\n      const chatRoot = checkChatRoot(state);\n      if (login.length < 3 || !chatRoot) {\n        const searchUsers = selectSearchUsers(state);\n        if (searchUsers.length > 0) {\n          Store.dispatch(setSearchUsers([]));\n        }\n        return;\n      }\n      const users = await this.api.search(login);\n      Store.dispatch(setSearchUsers(users));\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.log(error);\n    }\n  }\n\n  public async updateProfile(user: UpdateProfileUser) {\n    try {\n      const profile = await this.api.update(user);\n      Store.dispatch(setProfile(profile));\n      Store.dispatch(clearProfileError());\n    } catch (error) {\n      Store.dispatch(setProfileError(error));\n    }\n  }\n\n  public async updatePassword(user: {\n    oldPassword: string,\n    newPassword: string,\n  }) {\n    try {\n      await this.api.updatePassword(user);\n      Store.dispatch(clearPasswordError());\n    } catch (error) {\n      Store.dispatch(setPasswordError(error));\n    }\n  }\n}\n\nexport default new UsersService();\n","import { Member } from '../../types/User';\nimport selectActiveChat from './selectActiveChat';\nimport selectSearchUsers from './selectSearchUsers';\n\nfunction selectMembersWithUsers(state: Indexed): Array<Member> {\n  const activeChat = selectActiveChat(state);\n  if (!activeChat) {\n    return [];\n  }\n  const members = activeChat.members || [];\n  const membersId = members.map((mem) => mem.id);\n  const searchUsers = selectSearchUsers(state);\n  const searchMembers: Array<Member> = searchUsers\n    .filter((user) => {\n      if (membersId.includes(user.id)) {\n        return false;\n      }\n      return true;\n    })\n    .map((user) => ({ ...user, role: 'none' }));\n  const users = members.concat(searchMembers);\n  return users;\n}\n\nexport default selectMembersWithUsers;\n",".chat-settings-users\r\n  each val in members ? members : ['There are no values']  \r\n    | !{val}","import ChatSettingsUsers from './ChatSettingsUsers';\n\nexport default ChatSettingsUsers;\n","import Block from '../../utils/Block';\nimport MemberItom from '../MemberItom';\n\nimport chatSettingsUsers from './chatSettingsUsers.pug';\n\nclass ChatSettingsUsers extends Block {\n  constructor() {\n    super('div', {}, {\n      searchValue: '',\n      members: [],\n    });\n  }\n\n  render() {\n    const members = this.props.members\n      .filter((chat: MemberItom) => chat.props.login.startsWith(this.props.searchValue));\n    return chatSettingsUsers({\n      members,\n    });\n  }\n}\n\nexport default ChatSettingsUsers;\n",".chat-settings_header\r\n  | #{header}\r\n.chat-settings_search\r\n  | !{search}\r\n.chat-settings_members\r\n  | !{members}",".member-itom\r\n  .member-itom__profile !{profile}\r\n  .member-itom__button !{button}","import MemberItom from './MemberItom';\n\nexport default MemberItom;\n","import MembersService from '../../services/MembersService';\nimport { Member } from '../../types/User';\nimport Block from '../../utils/Block';\nimport getAvatar from '../../utils/getAvatar';\nimport Button from '../Button';\nimport Icon from '../Icon';\nimport ProfileButton from '../ProfileButton';\nimport memberItom from './memberItom.pug';\n\nconst getManageButton = (role: string, id: number, root: boolean) => {\n  if (!root || role === 'admin') {\n    return '';\n  }\n  if (role === 'none') {\n    return new Button({\n      content: new Icon({\n        name: 'plus-square',\n      }),\n      theme: 'icon',\n      onclick: () => MembersService.add(id),\n    });\n  }\n  return new Button({\n    content: new Icon({\n      name: 'trash-2',\n    }),\n    theme: 'icon',\n    onclick: () => MembersService.delete(id),\n  });\n};\n\nclass MemberItom extends Block {\n  constructor(props: {\n    root: boolean,\n    member: Member\n  }) {\n    super('div', {}, {\n      login: props.member.login,\n      profile: new ProfileButton({\n        avatar: getAvatar(props.member.avatar),\n        name: `${props.member.first_name} ${props.member.second_name} (${props.member.login})`,\n        link: `/user/${props.member.login}`,\n      }),\n      button: getManageButton(props.member.role, props.member.id, props.root),\n    });\n  }\n\n  render() {\n    return memberItom(this.props);\n  }\n}\n\nexport default MemberItom;\n","import ChatSettings from './ChatSettings';\n\nexport default ChatSettings;\n","import UsersService from '../../services/UsersService';\nimport selectActiveChat from '../../store/selectors/selectActiveChat';\nimport selectMembersWithUsers from '../../store/selectors/selectMembersWithUsers';\nimport Block from '../../utils/Block';\nimport memoize from '../../utils/memoize';\nimport Store from '../../utils/Store';\nimport ChatSettingsUsers from '../ChatSettingsUsers';\nimport Input from '../Input';\nimport chatSettings from './chatSettings.pug';\nimport checkChatRoot from '../../store/selectors/checkChatRoot';\nimport MemberItom from '../MemberItom';\n\nclass ChatSettings extends Block {\n  constructor() {\n    super('div', {}, {\n      header: '',\n      members: new ChatSettingsUsers(),\n      search: new Input({\n        placeholder: ' ',\n        name: 'searchUsers',\n        type: 'text',\n        events: {\n          input: (e: KeyboardEvent) => {\n            if (!e.target) {\n              return;\n            }\n            const input = e.target as HTMLInputElement;\n            this.props.members.setProps({ searchValue: input.value });\n            UsersService.search(input.value);\n          },\n        },\n      }),\n    });\n  }\n\n  setClass() {\n    const baseClass = 'chat-settings';\n    this.attrs.class = baseClass;\n  }\n\n  componentDidMount() {\n    const memoizeSetTitle = memoize(\n      (state) => selectActiveChat(state),\n      (data) => {\n        if (!data) {\n          return;\n        }\n        this.setProps({\n          header: data.title,\n        });\n      },\n    );\n    const memoizeUsers = memoize(\n      (state) => ({\n        members: selectMembersWithUsers(state),\n        root: checkChatRoot(state),\n      }),\n      ({ members, root }) => {\n        this.props.members.setProps({\n          members: members.map((member) => new MemberItom({ root, member })),\n        });\n      },\n    );\n    Store.subscribe((state) => {\n      memoizeSetTitle(state);\n      memoizeUsers(state);\n    });\n  }\n\n  render() {\n    this.setClass();\n    return chatSettings(this.props);\n  }\n}\n\nexport default ChatSettings;\n","import ChatsList from '../../components/ChatsList';\nimport Block from '../../utils/Block';\nimport chat from './chat.pug';\nimport ChatWindow from '../../components/ChatWindow';\nimport PopUp from '../../components/PopUp';\nimport Store from '../../utils/Store';\nimport setChatNamePopUpDisable from '../../store/actrionCreaters/setChatNamePopUpDisable';\nimport CreateChat from '../../components/CreateChat';\nimport selectCreateChatPopUpVisible from '../../store/selectors/selectCreateChatPopUpVisible';\nimport setChatSettingsPopUpDisable from '../../store/actrionCreaters/setChatSettingsPopUpDisable';\nimport selectChatSettingPopUpVisible from '../../store/selectors/selectChatSettingPopUpVisible';\nimport ChatSettings from '../../components/ChatSettings';\nimport memoize from '../../utils/memoize';\nimport AuthService from '../../services/AuthService';\nimport ChatsService from '../../services/ChatsService';\n\nexport default class Chat extends Block {\n  constructor() {\n    super('div', {}, {\n      chatList: new ChatsList(),\n      chatWindow: new ChatWindow(),\n      chatNamePopUp: new PopUp({\n        disableFunc: () => {\n          Store.dispatch(setChatNamePopUpDisable());\n        },\n        content: new CreateChat(),\n        active: true,\n      }),\n      chatSettingsPopUp: new PopUp({\n        disableFunc: () => {\n          Store.dispatch(setChatSettingsPopUpDisable());\n        },\n        content: new ChatSettings(),\n        active: true,\n      }),\n    });\n  }\n\n  setClass() {\n    const baseClass = 'chat';\n    this.attrs.class = baseClass;\n  }\n\n  componentDidMount() {\n    AuthService.getProfile();\n    ChatsService.init();\n    const memoizeCreateChat = memoize(\n      (state) => selectCreateChatPopUpVisible(state),\n      (data) => {\n        this.props.chatNamePopUp.setProps({\n          active: data,\n        });\n      },\n    );\n    const memoizeChatSetting = memoize(\n      (state) => selectChatSettingPopUpVisible(state),\n      (data) => {\n        this.props.chatSettingsPopUp.setProps({\n          active: data,\n        });\n      },\n    );\n    Store.subscribe((state) => {\n      memoizeCreateChat(state);\n      memoizeChatSetting(state);\n    });\n  }\n\n  render() {\n    this.setClass();\n    return chat({\n      chatList: this.props.chatList,\n      chatWindow: this.props.chatWindow,\n      chatNamePopUp: this.props.chatNamePopUp,\n      chatSettingsPopUp: this.props.chatSettingsPopUp,\n    });\n  }\n}\n","include ../../templates/centering/centering\r\n\r\n+centering\r\n  div \r\n    | !{form}","import ApiError from '../../types/ApiError';\n\nconst selectPasswordError = (state: Indexed) => state.errors.password as ApiError | undefined;\n\nexport default selectPasswordError;\n","import ApiError from '../../types/ApiError';\n\nconst selectProfileError = (state: Indexed) => state.errors.profile as ApiError | undefined;\n\nexport default selectProfileError;\n",".profile-editor\r\n  .profile-editor_body\r\n    .profile-editor_title\r\n      | #{title}\r\n    .profile-editor_dataform\r\n      | !{dataForm}\r\n    .profile-editor_passwordform\r\n      | !{passwordForm}\r\n  .profile-editor_helper\r\n    | !{helper}","import ProfileEditor from './ProfileEditor';\n\nexport default ProfileEditor;\n","import UsersService from '../../services/UsersService';\nimport selectPasswordError from '../../store/selectors/selectPasswordError';\nimport selectProfileError from '../../store/selectors/selectProfileError';\nimport { UpdateProfileUser } from '../../types/User';\nimport Block from '../../utils/Block';\nimport memoize from '../../utils/memoize';\nimport Store from '../../utils/Store';\nimport Helper from '../Helper';\nimport MainForm from '../MainForm';\nimport profileEditor from './profileEditor.pug';\n\nclass ProfileEditor extends Block {\n  constructor(props: {\n    title: string,\n    helper?: Helper,\n  }) {\n    super('div', {}, {\n      title: props.title,\n      dataForm: new MainForm({\n        valid: true,\n        buttonText: ' ',\n        fields: [{\n          placeholder: '',\n          name: 'first_name',\n          type: 'text',\n          validFunc: (value: string) => /^[-A-Z][-a-z]+$/.test(value),\n        }, {\n          placeholder: '',\n          name: 'second_name',\n          type: 'text',\n          validFunc: (value: string) => /^[-A-Z][-a-z]+$/.test(value),\n        }, {\n          placeholder: '',\n          name: 'login',\n          type: 'text',\n          validFunc: (value: string) => /^(?=.*[a-zA-Z_-])[a-zA-Z0-9-_]{3,20}$/.test(value),\n        }, {\n          placeholder: ' ',\n          name: 'display_name',\n          type: 'text',\n        }, {\n          placeholder: '',\n          name: 'email',\n          type: 'text',\n          validFunc: (value: string) => /^(?=.*[a-zA-Z_@-])[a-zA-Z_@-]+@[a-zA-Z_-]+\\.[a-zA-Z_-]+$/.test(value),\n        }, {\n          placeholder: '',\n          name: 'phone',\n          type: 'text',\n          validFunc: (value: string) => /^[\\d/+]\\d{9,14}$/.test(value),\n        }],\n        submit: (formObj: UpdateProfileUser) => {\n          UsersService.updateProfile(formObj);\n        },\n      }),\n      passwordForm: new MainForm({\n        valid: true,\n        buttonText: ' ',\n        fields: [{\n          placeholder: ' ',\n          name: 'oldPassword',\n          type: 'password',\n        }, {\n          placeholder: ' ',\n          name: 'newPassword',\n          type: 'password',\n          validFunc: (value: string) => /^(?=.*[A-Z-])(?=.*\\d).{8,40}$/.test(value),\n        }],\n        submit: (formObj: {\n          oldPassword: string,\n          newPassword: string,\n        }) => {\n          UsersService.updatePassword(formObj);\n        },\n      }),\n      helper: props.helper,\n    });\n  }\n\n  componentDidMount() {\n    const memoizeProfileError = memoize(\n      (state) => selectProfileError(state),\n      (error) => {\n        this.props.dataForm.setProps({\n          error: error ? error.reason : undefined,\n        });\n      },\n    );\n    const memoizePasswordError = memoize(\n      (state) => selectPasswordError(state),\n      (error) => {\n        this.props.passwordForm.setProps({\n          error: error ? error.reason : undefined,\n        });\n      },\n    );\n    Store.subscribe((state) => {\n      memoizeProfileError(state);\n      memoizePasswordError(state);\n    });\n  }\n\n  render() {\n    return profileEditor({\n      title: this.props.title,\n      dataForm: this.props.dataForm,\n      passwordForm: this.props.passwordForm,\n      helper: this.props.helper,\n    });\n  }\n}\n\nexport default ProfileEditor;\n","import Profile from './Profile';\n\nexport default Profile;\n","import Block from '../../utils/Block';\nimport profile from './profile.pug';\nimport Helper from '../../components/Helper';\nimport AuthService from '../../services/AuthService';\nimport ProfileEditor from '../../components/ProfileEditor';\n\nexport default class Profile extends Block {\n  constructor() {\n    super('div', {}, {\n      regForm: new ProfileEditor({\n        title: ' ',\n        helper: new Helper({\n          text: '',\n          onclick: async () => {\n            await AuthService.logout();\n          },\n          textLink: '',\n        }),\n      }),\n    });\n  }\n\n  componentDidMount() {\n    AuthService.getProfile();\n  }\n\n  render() {\n    return profile({\n      form: this.props.regForm,\n    });\n  }\n}\n","import Reducer from '../../utils/Reducer';\n\nconst popUpReducer: Reducer<{ [index: string]: boolean }> = (\n  state = { chatSetting: false, chatName: false },\n  action,\n) => {\n  switch (action.type) {\n    case 'popUp/SETCHATSETTINGACTIVE':\n      return { ...state, chatSetting: true };\n    case 'popUp/SETCHATSETTINGDISABLE':\n      return { ...state, chatSetting: false };\n    case 'popUp/SETCHATNAMEACTIVE':\n      return { ...state, chatName: true };\n    case 'popUp/SETCHATNAMEDISABLE':\n      return { ...state, chatName: false };\n    case 'popUp/CLOSEALL':\n      return Object.keys(state).reduce((res: { [index: string]: boolean }, key) => ({\n        ...res,\n        [key]: false,\n      }), {});\n    default:\n      return state;\n  }\n};\n\nexport default popUpReducer;\n","import Chat from '../../types/Chat';\nimport Reducer from '../../utils/Reducer';\n\nconst chatsReducer: Reducer<Array<Chat>> = (state = [], action) => {\n  switch (action.type) {\n    case 'chats/SET':\n      return action.payload;\n    case 'chats/SETMEMBERS':\n      return state.map((chat: Chat) => {\n        if (chat.id === action.payload.chatId) {\n          return {\n            ...chat,\n            members: action.payload.members,\n          };\n        }\n        return { ...chat };\n      });\n    case 'chats/ADDNEWMESSAGES':\n      return state.map((chat: Chat) => {\n        if (chat.id === action.payload.chatId) {\n          return {\n            ...chat,\n            messages: chat.messages\n              ? action.payload.messages.concat(chat.messages)\n              : action.payload.messages,\n          };\n        }\n        return { ...chat };\n      });\n    case 'chats/ADDOLDMESSAGES':\n      return state.map((chat: Chat) => {\n        if (chat.id === action.payload.chatId) {\n          return {\n            ...chat,\n            messages: chat.messages\n              ? chat.messages.concat(action.payload.messages)\n              : action.payload.messages,\n          };\n        }\n        return { ...chat };\n      });\n    default:\n      return state;\n  }\n};\n\nexport default chatsReducer;\n","import Reducer from '../../utils/Reducer';\n\nconst currentChatReducer: Reducer<{ id: number | undefined }> = (\n  state = { id: undefined },\n  action,\n) => {\n  switch (action.type) {\n    case 'currentChat/SETACTIVECHATID':\n      return { ...state, activeChatId: action.payload };\n    default:\n      return state;\n  }\n};\n\nexport default currentChatReducer;\n","import { User } from '../../types/User';\nimport Reducer from '../../utils/Reducer';\n\nconst searchUsersReducer: Reducer<Array<User>> = (\n  state = [],\n  action,\n) => {\n  switch (action.type) {\n    case 'searchUsers/SETUSERS':\n      return action.payload;\n    default:\n      return state;\n  }\n};\n\nexport default searchUsersReducer;\n","import { Profile } from '../../types/User';\nimport Reducer from '../../utils/Reducer';\n\nconst profileReducer: Reducer<Profile | undefined> = (\n  state = undefined,\n  action,\n) => {\n  switch (action.type) {\n    case 'profile/SET':\n      return action.payload;\n    default:\n      return state;\n  }\n};\n\nexport default profileReducer;\n","import ApiError from '../../types/ApiError';\nimport Reducer from '../../utils/Reducer';\n\nconst errorsReducer: Reducer<{\n  auth?: ApiError,\n  reg?: ApiError,\n  profile?: ApiError,\n  password?: ApiError,\n}> = (state = {}, action) => {\n  switch (action.type) {\n    case 'errors/SETAUTH':\n      return { ...state, auth: action.payload };\n    case 'errors/SETREG':\n      return { ...state, reg: action.payload };\n    case 'errors/SETPROFILE':\n      return { ...state, profile: action.payload };\n    case 'errors/CLEARPROFILE':\n      return { ...state, profile: undefined };\n    case 'errors/SETPASSWORD':\n      return { ...state, password: action.payload };\n    case 'errors/CLEARPASSWORD':\n      return { ...state, password: undefined };\n\n    default:\n      return state;\n  }\n};\n\nexport default errorsReducer;\n","import Store from '../utils/Store';\nimport popUpReducer from './reducers/popUpReducer';\nimport chatsReducer from './reducers/chatsReducer';\nimport currentChatReducer from './reducers/currentChatReducer';\nimport searchUsersReducer from './reducers/searchUsersReducer';\nimport profileReducer from './reducers/profileReducer';\nimport errorsReducer from './reducers/errorsReducer';\n\nconst createStore = () => {\n  Store\n    .addReducer('popUp', popUpReducer)\n    .addReducer('chats', chatsReducer)\n    .addReducer('currentChat', currentChatReducer)\n    .addReducer('searchUsers', searchUsersReducer)\n    .addReducer('profile', profileReducer)\n    .addReducer('errors', errorsReducer);\n};\n\nexport default createStore;\n","import Reg from './pages/reg/Reg';\nimport Auth from './pages/auth/Auth';\nimport Chat from './pages/chat/Chat';\nimport Profile from './pages/profile';\nimport Router from './utils/Router';\nimport createStore from './store/createStore';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  function render(query: string) {\n    const root = document.querySelector(query) as HTMLElement;\n    if (root === null) {\n      return;\n    }\n    createStore();\n    const router = new Router(root);\n    router\n      .use('/', Chat)\n      .use('/auth/', Auth)\n      .use('/reg/', Reg)\n      .use('/profile/', Profile)\n      .start();\n  }\n  /* let page;\n    const path = window.location.pathname;\n    switch (path) {\n      case '/':\n        page = new Reg();\n        break;\n      case '/reg.html':\n        page = new Reg();\n        break;\n      case '/auth.html':\n        page = new Auth();\n        break;\n      case '/chat.html':\n        page = new Chat();\n        break;\n      case '/profile.html':\n        page = new Profile();\n        break;\n      case '/500.html':\n        page = new Error500();\n        break;\n      default:\n        page = new Error404();\n        break;\n    }\n    root.appendChild(page.element); */\n\n  render('.root');\n});\n"],"names":["$38026a9ed565dc52$var$getRandomValues","self","ReferenceError","$9b87351ef801e4cd$var$asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","fn","this","args","arguments","apply","err","undefined","instance","Constructor","TypeError","$703ade20f539bb69$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","protoProps","staticProps","prototype","obj","$107af2fef509b326$var$getPrototypeOf","o","setPrototypeOf","getPrototypeOf","o1","__proto__","$ad5f73dbf515998d$var$setPrototypeOf","p","p1","subClass","superClass","create","constructor","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","$9bd4e20b4209f41e$export$9099ad97b570f7c","Symbol","call","$e1af73daf95e7cc7$export$9099ad97b570f7c","$df56de5e860ae74d$export$9099ad97b570f7c","iter","iterator","toString","Array","from","arr","isArray","$2b7ce039f9f26e80$export$9099ad97b570f7c","$88f6080b3cdf367f$export$9099ad97b570f7c","$10849a8916615a61$export$9099ad97b570f7c","arr2","$c4f435f519e28545$export$9099ad97b570f7c","$de7b53565d7301ee$export$9099ad97b570f7c","$7e13edd7ae92189b$export$40339995e8a21591","$7e13edd7ae92189b$export$357eb1b4f03c1402","$7e13edd7ae92189b$var$mapping","pairs","id","resolved","Error","parcelRequire","register","JSON","parse","$38026a9ed565dc52$var$rnds8","Uint8Array","crypto","getRandomValues","bind","msCrypto","$4a35b9cbee84b5cd$export$9099ad97b570f7c","$3a1d0929f5d0bfe6$export$9099ad97b570f7c","uuid","test","$f8c32ead1a1aa705$var$byteToHex","$f8c32ead1a1aa705$var$i","push","substr","$f8c32ead1a1aa705$export$9099ad97b570f7c","offset","toLowerCase","$597d41264551f7ce$export$9099ad97b570f7c","options","buf","rnds","random","rng","$38026a9ed565dc52$export$9099ad97b570f7c","$3488ffa8a2b8549e$export$9099ad97b570f7c","$3488ffa8a2b8549e$var$EventBus","listeners","event","callback","listener","_len","_key","$ffab4627bc4f8796$export$9099ad97b570f7c","$d235986047d97541$var$Block","param","param1","param2","tagName","attrs","eventBus","meta","propsWithThis","$ae1290835be17792$export$9099ad97b570f7c","events","bindBlockToEvents","makePropsProxy","registerEvents","emit","EVENTS","INIT","on","init","FLOW_CDM","componentDidMountIn","FLOW_CDU","componentDidUpdateIn","FLOW_RENDER","renderIn","newEvents","entries","_param","func","e","Proxy","set","prop","val","old","createResources","elementIn","document","createElement","componentDidMount","block","fragment","innerHTML","values","reduce","blockProps","every","v","stub","content","querySelector","replaceWith","element","render","removeEvents","removeAttrs","renderBlocks","appendChild","addAttrs","addEvents","attr","setAttribute","removeAttribute","eventName","eventFunc","removeEventListener","addEventListener","oldProps","newProps","componentDidUpdate","nextProps","assign","_oldProps","_newProps","$d235986047d97541$export$9099ad97b570f7c","$94a61fd898244560$export$9099ad97b570f7c","locals","pug_interp","pug_html","pug_mixins","locals_for_with","form","attributes","$3a78d809099c9da1$export$9099ad97b570f7c","$55431b503dc3e470$export$9099ad97b570f7c","Block","$f0a5352a8f62c57a$var$Button","fullWidth","theme","click","onclick","baseClass","class","setClass","$27e5154905564e31$export$9099ad97b570f7c","$03104337aa379bd8$var$Input","placeholder","name","type","wrong","validFunc","fullHeight","$2d139a6cb101ca3f$var$pug_match_html","$2d139a6cb101ca3f$export$9099ad97b570f7c","button","fields","$$obj","pug_index0","$$l","a","t","exec","r","c","n","s","index","charCodeAt","substring","$2d139a6cb101ca3f$var$pug_escape","$1ff9116c1267e5c2$export$9099ad97b570f7c","Form","$2f91f5c1af5d482b$var$MainForm","buttonText","valid","submit","$08812760281a0e3c$var$Form","fieldsArray","map","f","blur","_e","comp","checkInput","focus","setProps","result","_this","getFormValues","checkValidFields","input","statusFields","field","sum","cur","$76a0cafa39ee3471$var$pug_match_html","$76a0cafa39ee3471$export$9099ad97b570f7c","helper","title","$76a0cafa39ee3471$var$pug_escape","$3738a429c8f9f828$export$9099ad97b570f7c","$14db0e0bc7c44931$var$Identification","$a6f68a85a713d8ac$var$pug_match_html","_xhr","$a6f68a85a713d8ac$export$9099ad97b570f7c","link","text","$a6f68a85a713d8ac$var$pug_escape","$47825f7a3c08cdf9$export$9099ad97b570f7c","$8fba0a089bcadbec$var$Helper","textLink","$7975f0466e69fa75$export$9099ad97b570f7c","$7975f0466e69fa75$var$Route","pathname","view","currentRoot","BlockClass","$d3668987689645dc$export$9099ad97b570f7c","$d3668987689645dc$var$Router","routes","history","window","route","onpopstate","onRoute","location","getRoute","pushState","back","forward","find","match","$4865bdf24b429f1a$export$9099ad97b570f7c","$4865bdf24b429f1a$var$BaseAPI","$f77708e6ab50c94c$var$METHODS","$f77708e6ab50c94c$export$9099ad97b570f7c","$f77708e6ab50c94c$var$HTTP","startUrl","timeout","headers","url","newUrl","request","method","data","xhr","XMLHttpRequest","open","setRequestHeader","responseType","onload","status","response","onabort","onerror","ontimeout","withCredentials","send","stringify","$194fd09033c90079$var$authAPIInstance","$194fd09033c90079$export$9099ad97b570f7c","BaseAPI","$194fd09033c90079$var$AuthAPI","user","post","get","$a155d84deed139b7$export$9099ad97b570f7c","payload","$60bf10c28a6c0127$export$9099ad97b570f7c","profile","$06dbbc3d885e9b31$export$9099ad97b570f7c","$3326d7826da52b86$export$9099ad97b570f7c","$3326d7826da52b86$var$Store","state","reducers","reducer","dispatch","action","emitListeners","newState","reducer1","$a81814dbbb7b4997$var$runtime","exports","Op","hasOwn","hasOwnProperty","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","GenStateSuspendedStart","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","__await","value1","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","next1","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","async","object","reverse","key1","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","$a81814dbbb7b4997$exports","regeneratorRuntime","accidentalStrictMode","globalThis","Function","$d0f1508eb4cb99f6$export$9099ad97b570f7c","$d0f1508eb4cb99f6$var$AuthService","api","login","go","_ctx","t0","logout","console","log","$62085a1be1d7d0ab$var$isArrayOrObject","$62085a1be1d7d0ab$var$isPlainObject","$62085a1be1d7d0ab$var$isArray","$62085a1be1d7d0ab$export$9099ad97b570f7c","$62085a1be1d7d0ab$var$isEqual","lhs","rhs","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","_value","$db5d55e1f898797f$export$9099ad97b570f7c","rightValue","return","$9b89640f2eaf1cd6$export$9099ad97b570f7c","dataFunc","actionFunc","memo","$95466c6b08bdd77e$export$9099ad97b570f7c","errors","reg","$3357fbfc6eec2bd6$export$9099ad97b570f7c","regForm","formObj","checkNotAuth","memoizeErrorMessage","reason","subscribe","$a9a3e81a98c39c3c$export$9099ad97b570f7c","$6bf1acb309085071$export$9099ad97b570f7c","auth","$1e2eed7465dd542a$export$9099ad97b570f7c","$a8a02eb197ce40bd$var$chatsAPIInstance","$a8a02eb197ce40bd$export$9099ad97b570f7c","$a8a02eb197ce40bd$var$ChatsAPI","chatId","$6e0ee26f706e9a8f$export$9099ad97b570f7c","$7653e70ba0c030cf$export$9099ad97b570f7c","$2efd8d002383766c$export$9099ad97b570f7c","chats","$448fb8e977c18933$export$9099ad97b570f7c","chat","$4f2004889f4f3948$export$9099ad97b570f7c","messages","$0ea72680cb3811e4$export$9099ad97b570f7c","$26b9c0d705a49049$export$9099ad97b570f7c","currentChat","activeChatId","$6de0b410696c3330$export$9099ad97b570f7c","$7fcfc27f76c776dd$export$9099ad97b570f7c","$7fcfc27f76c776dd$var$MessagesService","sockets","chatsApi","ref","token","socket","getState","WebSocket","chat_id","message","$f781edf32df494a1$export$9099ad97b570f7c","$f781edf32df494a1$var$ChatsService","connect","getlastMessages","$1f7b08b1684b7ea7$var$pug_escape","$1f7b08b1684b7ea7$var$pug_match_html","$1f7b08b1684b7ea7$export$9099ad97b570f7c","author","count","date","img","toJSON","indexOf","replace","$1f7b08b1684b7ea7$var$pug_attr","$8600c1b3d0de7a1c$export$9099ad97b570f7c","$67a55f016cd32380$var$ChatItem","active","memoizeActiveChat","$375281ec9064f21d$var$pug_escape","$375281ec9064f21d$var$pug_match_html","$375281ec9064f21d$export$9099ad97b570f7c","avatar","$375281ec9064f21d$var$pug_attr","$f72e23be6382e4f4$export$9099ad97b570f7c","$6dc59fb382691492$var$ProfileButton","$e53064c50e127eae$export$9099ad97b570f7c","addChatButton","chatBar","search","$73ecde34a5dc557c$export$9099ad97b570f7c","$0b6904b77b18f8d6$export$9099ad97b570f7c","$5ba4f1d3c7495240$export$9099ad97b570f7c","time","Date","getHours","getMinutes","$3022654007367912$export$9099ad97b570f7c","$55c0d15c620c7770$export$9099ad97b570f7c","$1d138c9209ba2b80$var$ChatsBar","searchValue","startsWith","$637835e926c7f4cf$export$da289beea9c5b10d","$637835e926c7f4cf$var$bundleURL","$637835e926c7f4cf$var$getBaseURL","matches","stack","$637835e926c7f4cf$var$getBundleURL","$57935a7a00b5d326$exports","getBundleURL","$ce4b8d1d877a3fb8$export$9099ad97b570f7c","$parcel$interopDefault","$1371de41e73df685$export$9099ad97b570f7c","$859a18b5d29a9b70$var$ChatsList","memoizeSelectChats","lastMessege","last_message","unread_count","memoizeGetProfile","first_name","second_name","$fba8b4c3d76cc4f2$export$9099ad97b570f7c","chatList","chatNamePopUp","chatSettingsPopUp","chatWindow","$001e120f7013b393$export$9099ad97b570f7c","chatSettingsButton","messagesList","$b14b20592dbff11b$export$9099ad97b570f7c","inputMessage","sendButton","$090558d744489588$export$9099ad97b570f7c","$91f4f779f28f2935$var$CreateMessege","sendMessage","preventDefault","$e3f971bfdfaa9bf2$export$9099ad97b570f7c","activeChat","$15c38cc90614d007$export$9099ad97b570f7c","$23648f67346dddb5$var$pug_escape","$23648f67346dddb5$var$pug_match_html","$23648f67346dddb5$export$9099ad97b570f7c","$7a340f682b8741a7$export$9099ad97b570f7c","$c36c1c5aed292b3d$var$Message","$4e1cf058758437bf$export$9099ad97b570f7c","$af199a127e609791$var$MessagesList","memoizeMessages","d","user_id","$f97a8f826277e508$var$membersAPIInstance","$f97a8f826277e508$export$9099ad97b570f7c","$f97a8f826277e508$var$MembersAPI","put","users","userId","delete","$566df4463536c6e2$export$9099ad97b570f7c","$80e5b3dcee92c45d$export$9099ad97b570f7c","$18b124b7f3f74623$export$9099ad97b570f7c","$18b124b7f3f74623$var$MembersService","members","$682c24667228d991$export$9099ad97b570f7c","$8d9e6d36b8e587e0$var$Icon","$782a8c70d4328059$export$9099ad97b570f7c","$785863cfe127ab7c$var$ChatWindow","openMembersPopUp","$a93090eed356f880$export$9099ad97b570f7c","$26224db3c05e5d76$export$9099ad97b570f7c","$304a65bfa4a89833$var$Button","mousedown","currentTarget","disableFunc","$8fde2ee7b0dcac59$export$9099ad97b570f7c","$7ae43137a2fe0a59$export$9099ad97b570f7c","$fce2215f67ac770e$var$CreateChat","$ff7c2acc064258e5$export$9099ad97b570f7c","popUp","chatName","$96600b1bff4048c8$export$9099ad97b570f7c","$145eb29eed60c5a1$export$9099ad97b570f7c","chatSetting","$06ae067238406c8d$var$userAPIInstance","$06ae067238406c8d$export$9099ad97b570f7c","$06ae067238406c8d$var$UsersAPI","pass","$2c398bb1310cc91f$export$9099ad97b570f7c","$e843393736f184cb$export$9099ad97b570f7c","$b489cc79d8ee5f6d$export$9099ad97b570f7c","$c07fdb01ebe79017$export$9099ad97b570f7c","$d4ee6e1af71cbd69$export$9099ad97b570f7c","$af05fe374c1877c9$export$9099ad97b570f7c","created_by","$7032006437b56e9c$export$9099ad97b570f7c","searchUsers","$97e3737881549248$export$9099ad97b570f7c","$97e3737881549248$var$UsersService","chatRoot","update","updatePassword","$642c003f99230846$export$9099ad97b570f7c","membersId","mem","searchMembers","includes","role","$b7d8ad7640813ac1$export$9099ad97b570f7c","$33fd5c38e9031f4c$export$9099ad97b570f7c","$be7db1642c5962c8$var$ChatSettingsUsers","$723f89bfa5c64e4a$var$pug_match_html","$723f89bfa5c64e4a$export$9099ad97b570f7c","header","$723f89bfa5c64e4a$var$pug_escape","$e5a56b61a8219480$export$9099ad97b570f7c","$9e73fd969f186b1f$export$9099ad97b570f7c","$18ef62c08a21efb5$var$MemberItom","member","root","add","$29a2bfe0760c1b43$export$9099ad97b570f7c","$eef681f218e10bef$var$ChatSettings","memoizeSetTitle","memoizeUsers","$6876f1da55f5dcc0$export$9099ad97b570f7c","getProfile","memoizeCreateChat","memoizeChatSetting","$91dd1eb6a5b8df63$export$9099ad97b570f7c","$9f70821d2965874d$export$9099ad97b570f7c","password","$0b1bc8ced21ecd9f$export$9099ad97b570f7c","$e4591c52fe03b5f7$var$pug_match_html","$e4591c52fe03b5f7$export$9099ad97b570f7c","dataForm","passwordForm","$e4591c52fe03b5f7$var$pug_escape","$655f17b5e666457d$export$9099ad97b570f7c","$3d17601793241a85$var$ProfileEditor","updateProfile","memoizeProfileError","memoizePasswordError","$2bde630c361e805d$export$9099ad97b570f7c","$435b4fe80e214c72$export$9099ad97b570f7c","$4fc87d59b6e075c7$export$9099ad97b570f7c","res","$e331e19c640eabb9$export$9099ad97b570f7c","$4fc1e3d4679106a9$export$9099ad97b570f7c","$989d6716fab146bb$export$9099ad97b570f7c","$613c9babbf3593ae$export$9099ad97b570f7c","$58ca21957d18e739$export$9099ad97b570f7c","$1edd5cf8f3131c9d$export$9099ad97b570f7c","addReducer","query","use","start"],"version":3,"file":"auth.511110fb.js.map"}