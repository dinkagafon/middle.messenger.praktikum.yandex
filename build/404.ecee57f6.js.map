{"mappings":"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","sources":["node_modules/uuid/dist/esm-browser/rng.js","node_modules/@swc/helpers/src/_assert_this_initialized.js","node_modules/@swc/helpers/src/_async_to_generator.js","node_modules/@swc/helpers/src/_class_call_check.js","node_modules/@swc/helpers/src/_create_class.js","node_modules/@swc/helpers/src/_define_property.js","node_modules/@swc/helpers/src/_get_prototype_of.js","node_modules/@swc/helpers/src/_set_prototype_of.js","node_modules/@swc/helpers/src/_inherits.js","node_modules/@swc/helpers/src/_object_spread.js","node_modules/@swc/helpers/src/_type_of.js","node_modules/@swc/helpers/src/_possible_constructor_return.js","node_modules/@swc/helpers/src/_iterable_to_array.js","node_modules/@swc/helpers/src/_sliced_to_array.js","node_modules/@swc/helpers/src/_array_with_holes.js","node_modules/@swc/helpers/src/_non_iterable_rest.js","node_modules/@swc/helpers/src/_to_consumable_array.js","node_modules/@swc/helpers/src/_array_without_holes.js","node_modules/@swc/helpers/src/_non_iterable_spread.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-7850a679436d3002.js","node_modules/uuid/dist/esm-browser/regex.js","node_modules/uuid/dist/esm-browser/validate.js","node_modules/uuid/dist/esm-browser/stringify.js","node_modules/uuid/dist/esm-browser/v4.js","src/utils/EventBus.ts","src/utils/Block.ts","src/pages/reg/reg.pug","src/components/Button/button.pug","src/components/Button/index.ts","src/components/Button/Button.ts","src/components/Input/index.ts","src/components/Input/Input.ts","src/components/MainForm/mainForm.pug","src/components/MainForm/index.ts","src/components/MainForm/MainForm.ts","src/components/Form/Form.ts","src/components/Identification/identification.pug","src/components/Identification/index.ts","src/components/Identification/Identification.ts","src/components/Helper/helper.pug","src/utils/HTTP.ts","src/components/Helper/index.ts","src/components/Helper/Helper.ts","src/utils/Route.ts","src/utils/Router.ts","src/utils/base-api.ts","src/api/auth-api.ts","src/store/actrionCreaters/setAuthError.ts","src/store/actrionCreaters/setProfile.ts","src/store/actrionCreaters/setRegError.ts","src/utils/Store.ts","node_modules/regenerator-runtime/runtime.js","src/services/AuthService.ts","src/utils/isEqual.ts","src/utils/memoize.ts","src/store/selectors/selectRegError.ts","src/pages/reg/Reg.ts","src/pages/auth/auth.pug","src/store/selectors/selectAuthError.ts","src/pages/auth/Auth.ts","src/api/chats-api.ts","src/store/actrionCreaters/setActiveChatId.ts","src/store/actrionCreaters/setChatNamePopUpDisable.ts","src/store/actrionCreaters/setChats.ts","src/store/selectors/selectChat.ts","src/store/actrionCreaters/addNewMessages.ts","src/store/actrionCreaters/addOldMessages.ts","src/store/selectors/selectActiveChat.ts","src/store/selectors/selectProfile.ts","src/services/MessagesService.ts","src/services/ChatsService.ts","src/components/ChatItem/chatItem.pug","src/components/ChatItem/index.ts","src/components/ChatItem/ChatItem.ts","src/components/ProfileButton/profileButton.pug","src/components/ProfileButton/index.ts","src/components/ProfileButton/ProfileButton.ts","src/components/ChatsList/chatsList.pug","src/store/selectors/selectChats.ts","src/store/actrionCreaters/setChatNamePopUpActive.ts","src/utils/transformDate.ts","src/components/ChatBar/chatsBar.pug","src/components/ChatBar/index.ts","src/components/ChatBar/ChatsBar.ts","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-43752206dc8639d3.js","src/utils/getAvatar.ts","src/components/ChatsList/index.ts","src/components/ChatsList/ChatsList.ts","src/pages/chat/chat.pug","src/components/ChatWindow/chatWindow.pug","src/components/CreateMessege/createMessege.pug","src/components/CreateMessege/index.ts","src/components/CreateMessege/CreateMessege.ts","src/store/selectors/selectMessages.ts","src/components/MessagesList/messagesList.pug","src/components/Message/message.pug","src/components/Message/index.ts","src/components/Message/Message.ts","src/components/MessagesList/index.ts","src/components/MessagesList/MessagesList.ts","src/api/members-api.ts","src/store/actrionCreaters/setChatSettingsPopUpActive.ts","src/store/actrionCreaters/setMembers.ts","src/services/MembersService.ts","src/components/Icon/index.ts","src/components/Icon/Icon.ts","src/components/ChatWindow/index.ts","src/components/ChatWindow/ChatWindow.ts","src/components/PopUp/popUp.pug","src/components/PopUp/index.ts","src/components/PopUp/PopUp.ts","src/components/CreateChat/createChat.pug","src/components/CreateChat/index.ts","src/components/CreateChat/CreateChat.ts","src/store/selectors/selectCreateChatPopUpVisible.ts","src/store/actrionCreaters/setChatSettingsPopUpDisable.ts","src/store/selectors/selectChatSettingPopUpVisible.ts","src/api/user-api.ts","src/store/actrionCreaters/clearPasswordError.ts","src/store/actrionCreaters/clearProfileError.ts","src/store/actrionCreaters/setPasswordError.ts","src/store/actrionCreaters/setProfileError.ts","src/store/actrionCreaters/setSearchUsers.ts","src/store/selectors/checkChatRoot.ts","src/store/selectors/selectSearchUsers.ts","src/services/UsersService.ts","src/store/selectors/selectMembersWithUsers.ts","src/components/ChatSettingsUsers/chatSettingsUsers.pug","src/components/ChatSettingsUsers/index.ts","src/components/ChatSettingsUsers/ChatSettingsUsers.ts","src/components/ChatSettings/chatSettings.pug","src/components/MemberItom/memberItom.pug","src/components/MemberItom/index.ts","src/components/MemberItom/MemberItom.ts","src/components/ChatSettings/index.ts","src/components/ChatSettings/ChatSettings.ts","src/pages/chat/Chat.ts","src/pages/profile/profile.pug","src/store/selectors/selectPasswordError.ts","src/store/selectors/selectProfileError.ts","src/components/InputFile/inputFile.pug","src/components/InputFile/index.ts","src/components/InputFile/InputFile.ts","src/components/AvatarChanger/avatarChanger.pug","src/components/AvatarChanger/index.ts","src/components/AvatarChanger/AvatarChanger.ts","src/components/ProfileEditor/profileEditor.pug","src/components/ProfileEditor/index.ts","src/components/ProfileEditor/ProfileEditor.ts","src/pages/profile/index.ts","src/pages/profile/Profile.ts","src/store/reducers/popUpReducer.ts","src/store/reducers/chatsReducer.ts","src/store/reducers/currentChatReducer.ts","src/store/reducers/searchUsersReducer.ts","src/store/reducers/profileReducer.ts","src/store/reducers/errorsReducer.ts","src/store/createStore.ts","src/index.ts"],"sourcesContent":["// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n","function getPrototypeOf(o) {\n  getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return getPrototypeOf(o);\n}\n\nexport default function _getPrototypeOf(o) {\n  return getPrototypeOf(o);\n}","function setPrototypeOf(o, p) {\n  setPrototypeOf = Object.setPrototypeOf || function setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return setPrototypeOf(o, p);\n}\n\nexport default function _setPrototypeOf(o, p) {\n  return setPrototypeOf(o, p);\n}\n","import setPrototypeOf from './_set_prototype_of';\n\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n","import defineProperty from './_define_property';\n\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","export default function _typeof(obj) {\n    return obj && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n};\n","import assertThisInitialized from './_assert_this_initialized';\nimport _typeof from './_type_of';\n\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n","import arrayWithHoles from './_array_with_holes';\nimport iterableToArrayLimit from './_iterable_to_array';\nimport nonIterableRest from './_non_iterable_rest';\n\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n","import arrayWithoutHoles from './_array_without_holes';\nimport iterableToArray from './_iterable_to_array';\nimport nonIterableSpread from './_non_iterable_spread';\n\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n","\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"3rcRr\\\":\\\"404.ecee57f6.js\\\",\\\"20k4a\\\":\\\"avatar.d36d91cd.jpg\\\"}\"));","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","type Listener = Array<(...args: any[]) => {} | null>;\r\n\r\ntype Listeners = {\r\n  [index: string]: Listener;\r\n};\r\n\r\nclass EventBus {\r\n  listeners: Listeners;\r\n\r\n  constructor() {\r\n    this.listeners = {};\r\n  }\r\n\r\n  on(event: string, callback: () => {}): void {\r\n    if (!this.listeners[event]) {\r\n      this.listeners[event] = [];\r\n    }\r\n\r\n    this.listeners[event].push(callback);\r\n  }\r\n\r\n  off(event: string, callback: () => {}) {\r\n    if (!this.listeners[event]) {\r\n      throw new Error(` : ${event}`);\r\n    }\r\n\r\n    this.listeners[event] = this.listeners[event].filter(\r\n      (listener) => listener !== callback,\r\n    );\r\n  }\r\n\r\n  emit(event: string, ...args: any[]) {\r\n    if (!this.listeners[event]) {\r\n      throw new Error(` : ${event}`);\r\n    }\r\n    this.listeners[event].forEach((listener) => {\r\n      listener(...args);\r\n    });\r\n  }\r\n}\r\n\r\nexport default EventBus;\r\n","/* eslint-disable class-methods-use-this */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport { v4 as makeUUID } from 'uuid';\r\nimport Attrs from '../types/Attrs';\r\nimport Events from '../types/Events';\r\nimport Props from '../types/Props';\r\nimport EventBus from './EventBus';\r\n\r\ntype BlockMeta = {\r\n  tagName: string;\r\n  props: Props;\r\n  attrs: Attrs;\r\n};\r\n\r\nclass Block {\r\n  public meta: BlockMeta;\r\n\r\n  public props: Props;\r\n\r\n  public attrs: Attrs;\r\n\r\n  public components: { [index: string]: Block } | undefined;\r\n\r\n  public eventBus: () => EventBus;\r\n\r\n  public id: string;\r\n\r\n  private elementIn: HTMLElement;\r\n\r\n  static EVENTS = {\r\n    INIT: 'init',\r\n    FLOW_CDM: 'flow:component-did-mount',\r\n    FLOW_CDU: 'flow:component-did-update',\r\n    FLOW_RENDER: 'flow:render',\r\n  };\r\n\r\n  constructor(tagName: string = 'div', attrs: Attrs = {}, props: Props = {}) {\r\n    const eventBus = new EventBus();\r\n    this.meta = {\r\n      tagName,\r\n      props,\r\n      attrs,\r\n    };\r\n    this.id = makeUUID();\r\n    const propsWithThis = { ...props };\r\n    if (propsWithThis.events) {\r\n      propsWithThis.events = this.bindBlockToEvents(propsWithThis.events);\r\n    }\r\n    this.props = this.makePropsProxy(propsWithThis);\r\n    this.attrs = attrs;\r\n    this.eventBus = () => eventBus;\r\n    this.registerEvents(eventBus);\r\n    eventBus.emit(Block.EVENTS.INIT);\r\n  }\r\n\r\n  private registerEvents(eventBus: EventBus) {\r\n    eventBus.on(Block.EVENTS.INIT, this.init.bind(this));\r\n    eventBus.on(Block.EVENTS.FLOW_CDM, this.componentDidMountIn.bind(this));\r\n    eventBus.on(Block.EVENTS.FLOW_CDU, this.componentDidUpdateIn.bind(this));\r\n    eventBus.on(Block.EVENTS.FLOW_RENDER, this.renderIn.bind(this));\r\n  }\r\n\r\n  private bindBlockToEvents(events: Events): Events {\r\n    const newEvents: Events = {};\r\n    Object.entries(events).forEach(([event, func]) => {\r\n      newEvents[event] = (e) => {\r\n        func(e, this);\r\n      };\r\n    });\r\n    return newEvents;\r\n  }\r\n\r\n  private makePropsProxy(props: Props) {\r\n    const proxy = new Proxy(props, {\r\n      set: (target, prop: string, val: any) => {\r\n        const old: Props = { ...target };\r\n        if (prop === 'events') {\r\n          // eslint-disable-next-line no-param-reassign\r\n          target[prop] = this.bindBlockToEvents(val);\r\n          return true;\r\n        }\r\n        // eslint-disable-next-line no-param-reassign\r\n        target[prop] = val;\r\n        this.eventBus().emit(Block.EVENTS.FLOW_CDU, old, target);\r\n        return true;\r\n      },\r\n    });\r\n    return proxy;\r\n  }\r\n\r\n  private init() {\r\n    this.createResources();\r\n    this.eventBus().emit(Block.EVENTS.FLOW_CDM);\r\n  }\r\n\r\n  private createResources() {\r\n    const { tagName } = this.meta;\r\n    this.elementIn = document.createElement(tagName);\r\n  }\r\n\r\n  private componentDidMountIn() {\r\n    this.componentDidMount();\r\n    this.eventBus().emit(Block.EVENTS.FLOW_RENDER);\r\n  }\r\n\r\n  private renderBlocks(block: string) {\r\n    const fragment = document.createElement('template');\r\n    fragment.innerHTML = block;\r\n    Object.values(this.props)\r\n      .reduce((blockProps, value) => {\r\n        if (Array.isArray(value) && value.every((v) => v instanceof Block)) {\r\n          return blockProps.concat(value);\r\n        }\r\n        if (value instanceof Block) {\r\n          blockProps.push(value);\r\n        }\r\n        return blockProps;\r\n      }, [])\r\n      .forEach((value: Block) => {\r\n        const stub = fragment.content.querySelector(`[data-uuid=\"${value.id}\"]`);\r\n        if (stub) {\r\n          stub.replaceWith(value.element);\r\n        }\r\n      });\r\n    return fragment.content;\r\n  }\r\n\r\n  private renderIn() {\r\n    const block: string = this.render();\r\n    this.removeEvents();\r\n    this.removeAttrs();\r\n    const content: DocumentFragment = this.renderBlocks(block);\r\n    this.elementIn.innerHTML = '';\r\n    this.elementIn.appendChild(content);\r\n    this.addAttrs();\r\n    this.addEvents();\r\n  }\r\n\r\n  private addAttrs() {\r\n    Object.entries(this.attrs).forEach(([attr, value]) => {\r\n      this.elementIn.setAttribute(attr, value);\r\n    });\r\n  }\r\n\r\n  private removeAttrs() {\r\n    Object.keys(this.attrs).forEach((attr) => {\r\n      this.elementIn.removeAttribute(attr);\r\n    });\r\n  }\r\n\r\n  toString() {\r\n    return `<div data-uuid = ${this.id}></div>`;\r\n  }\r\n\r\n  private removeEvents() {\r\n    if (!this.props.events) {\r\n      return;\r\n    }\r\n    Object.entries(this.props.events).forEach(([eventName, eventFunc]) => {\r\n      this.element.removeEventListener(eventName, eventFunc);\r\n    });\r\n  }\r\n\r\n  private addEvents() {\r\n    if (!this.props.events) {\r\n      return;\r\n    }\r\n    Object.entries(this.props.events).forEach(([eventName, eventFunc]) => {\r\n      this.element.addEventListener(eventName, eventFunc);\r\n    });\r\n  }\r\n\r\n  private componentDidUpdateIn(oldProps: Props, newProps: Props) {\r\n    this.componentDidUpdate(oldProps, newProps);\r\n    if (oldProps !== newProps) {\r\n      this.eventBus().emit(Block.EVENTS.FLOW_RENDER);\r\n    }\r\n  }\r\n\r\n  get element() {\r\n    return this.elementIn;\r\n  }\r\n\r\n  public setProps(nextProps: Props) {\r\n    if (!nextProps) {\r\n      return;\r\n    }\r\n    Object.assign(this.props, nextProps);\r\n  }\r\n\r\n  public render(): string {\r\n    return '';\r\n  }\r\n\r\n  public componentDidMount() {}\r\n\r\n  public componentDidUpdate(_oldProps: Props, _newProps: Props) {}\r\n}\r\nexport default Block;\r\n","include ../../templates/centering/centering\r\n\r\n+centering\r\n  div \r\n    | !{form}","span.button__text !{content}","import Button from './Button';\r\n\r\nexport default Button;\r\n","import BlockEvent from '../../types/BlockEvent';\r\nimport Block from '../../utils/Block';\r\nimport button from './button.pug';\r\n\r\nclass Button extends Block {\r\n  constructor(props: {\r\n    fullWidth?: boolean,\r\n    content: string | Block,\r\n    onclick: BlockEvent,\r\n    theme?: 'link' | 'icon',\r\n  }) {\r\n    super('button', {}, {\r\n      fullWidth: props.fullWidth,\r\n      content: props.content,\r\n      theme: props.theme,\r\n      events: {\r\n        click: props.onclick,\r\n      },\r\n    });\r\n  }\r\n\r\n  setClass() {\r\n    let baseClass = 'button';\r\n    if (this.props.fullWidth) {\r\n      baseClass = `${baseClass} button_fullWidth`;\r\n    }\r\n    if (this.props.theme) {\r\n      baseClass = `${baseClass} button_theme_${this.props.theme}`;\r\n    }\r\n    this.attrs.class = baseClass;\r\n  }\r\n\r\n  render() {\r\n    this.setClass();\r\n    return button(this.props);\r\n  }\r\n}\r\n\r\nexport default Button;\r\n","import Input from './Input';\r\n\r\nexport default Input;\r\n","import Block from '../../utils/Block';\r\nimport Events from '../../types/Events';\r\n\r\nclass Input extends Block {\r\n  constructor(props: {\r\n    placeholder: string,\r\n    name: string,\r\n    type: string,\r\n    fullHeight?: boolean,\r\n    events?: Events,\r\n    validFunc?: (v: string) => boolean\r\n  }) {\r\n    super('input', {\r\n      class: 'input',\r\n      placeholder: props.placeholder,\r\n      name: props.name,\r\n      type: props.type,\r\n    }, {\r\n      events: props.events,\r\n      wrong: false,\r\n      validFunc: props.validFunc,\r\n      fullHeight: props.fullHeight,\r\n      name: props.name,\r\n    });\r\n  }\r\n\r\n  setClass() {\r\n    let baseClass = 'input';\r\n    if (this.props.wrong) {\r\n      baseClass = `${baseClass} input_wrong`;\r\n    }\r\n    if (this.props.fullHeight) {\r\n      baseClass = `${baseClass} input_fullHeight`;\r\n    }\r\n    this.attrs.class = baseClass;\r\n  }\r\n\r\n  render() {\r\n    this.setClass();\r\n    return '';\r\n  }\r\n}\r\n\r\nexport default Input;\r\n",".main-form_content\r\n  each val in fields ? fields : ['There are no values'] \r\n      | !{val}\r\n.main-form_button\r\n  | !{button}\r\nif error\r\n    .main-form_error #{error}","import MainForm from './MainForm';\r\n\r\nexport default MainForm;\r\n","import Form from '../Form';\r\nimport mainForm from './mainForm.pug';\r\n\r\nclass MainForm<Fields> extends Form<Fields> {\r\n  constructor(props: {\r\n    fields: Array<{\r\n      placeholder: string,\r\n      name: string,\r\n      validFunc?: (v: string) => boolean,\r\n      type: string,\r\n    }>,\r\n    buttonText: string,\r\n    valid?: boolean,\r\n    error?: string,\r\n    submit: (formObj: Fields) => void,\r\n  }) {\r\n    super({\r\n      fields: props.fields,\r\n      buttonText: props.buttonText,\r\n      valid: props.valid,\r\n      error: props.error,\r\n      submit: props.submit,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return mainForm({\r\n      button: this.props.button,\r\n      fields: this.props.fields,\r\n      error: this.props.error,\r\n    });\r\n  }\r\n}\r\n\r\nexport default MainForm;\r\n","import Block from '../../utils/Block';\r\nimport Button from '../Button';\r\nimport Input from '../Input';\r\n\r\nclass Form<Fields> extends Block {\r\n  constructor(props: {\r\n    fields: Array<{\r\n      placeholder: string,\r\n      name: string,\r\n      validFunc?: (v: string) => boolean,\r\n      type: string,\r\n    }>,\r\n    buttonText: string,\r\n    valid?: boolean,\r\n    error?: string,\r\n    submit: (formObj: Fields) => void,\r\n  }) {\r\n    const fieldsArray: Array<Input> = props.fields\r\n      .map((f) => new Input({\r\n        events: {\r\n          blur: (_e, comp: Input) => {\r\n            this.checkInput(comp);\r\n          },\r\n          focus: (_e, comp: Input) => {\r\n            if (!f.validFunc) {\r\n              return;\r\n            }\r\n            comp.setProps({\r\n              wrong: false,\r\n            });\r\n          },\r\n        },\r\n        validFunc: f.validFunc,\r\n        placeholder: f.placeholder,\r\n        name: f.name,\r\n        type: f.type,\r\n      }));\r\n    super('div', {}, {\r\n      fields: fieldsArray,\r\n      button: new Button({\r\n        content: props.buttonText,\r\n        fullWidth: true,\r\n        onclick: () => {\r\n          const result = this.getFormValues();\r\n          if (!props.valid) {\r\n            props.submit(result);\r\n            return;\r\n          }\r\n          const status = this.checkValidFields();\r\n          if (status) {\r\n            props.submit(result);\r\n          }\r\n        },\r\n      }),\r\n    });\r\n  }\r\n\r\n  // eslint-disable-next-line class-methods-use-this\r\n  checkInput(input: Input) {\r\n    if (!input.props.validFunc) {\r\n      return;\r\n    }\r\n    const element = input.element as HTMLTextAreaElement;\r\n    const result: boolean = input.props.validFunc(element.value);\r\n    if (!result) {\r\n      input.setProps({\r\n        wrong: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  checkValidFields() {\r\n    let statusFields = true;\r\n    this.props.fields.forEach((field: Input) => {\r\n      this.checkInput(field);\r\n      if (field.props.wrong === true) {\r\n        statusFields = false;\r\n      }\r\n    });\r\n    return statusFields;\r\n  }\r\n\r\n  setFormValues(values: Record<string, string>) {\r\n    Object.entries(values).forEach(([name, value]) => {\r\n      const inputBlock: Input = this.props.fields.find((input: Input) => input.props.name === name);\r\n      if (!inputBlock) {\r\n        return;\r\n      }\r\n      const input = inputBlock.element as HTMLInputElement;\r\n      input.value = value;\r\n    });\r\n  }\r\n\r\n  getFormValues() {\r\n    const result = this.props.fields.reduce((sum: Record<string, string>, cur: Input) => {\r\n      const inputName: string = cur.attrs.name;\r\n      const input = cur.element as HTMLInputElement;\r\n      const newSum = {\r\n        ...sum,\r\n        [inputName]: input.value,\r\n      };\r\n      return newSum;\r\n    }, {});\r\n    return result;\r\n  }\r\n}\r\n\r\nexport default Form;\r\n",".identification\r\n  .identification_body\r\n    .identification_title\r\n      | #{title}\r\n    .identification_form\r\n      | !{form}\r\n  .identification_helper\r\n    | !{helper}","import Identification from './Identification';\r\n\r\nexport default Identification;\r\n","import Block from '../../utils/Block';\r\nimport Helper from '../Helper';\r\nimport MainForm from '../MainForm';\r\nimport identification from './identification.pug';\r\n\r\nclass Identification<Fields> extends Block {\r\n  constructor(props: {\r\n    title: string,\r\n    form: MainForm<Fields>,\r\n    helper?: Helper,\r\n  }) {\r\n    super('div', {}, {\r\n      title: props.title,\r\n      form: props.form,\r\n      helper: props.helper,\r\n    });\r\n  }\r\n\r\n  // eslint-disable-next-line class-methods-use-this\r\n  render() {\r\n    return identification({\r\n      title: this.props.title,\r\n      form: this.props.form,\r\n      helper: this.props.helper,\r\n    });\r\n  }\r\n}\r\n\r\nexport default Identification;\r\n",".helper\r\n  span.helper__text #{text}  \r\n    span.helper__button !{link}","import RequestOptions from '../types/RequestOptions';\r\n\r\nconst METHODS = {\r\n  GET: 'GET',\r\n  PUT: 'PUT',\r\n  POST: 'POST',\r\n  DELETE: 'DELETE',\r\n};\r\n\r\nclass HTTP {\r\n  private startUrl: string;\r\n\r\n  private timeout: number;\r\n\r\n  private headers: { [index: string]: string };\r\n\r\n  constructor(startUrl: string, options: {\r\n    timeout?: number,\r\n    headers?: { [index: string]: string }\r\n  } = {}) {\r\n    this.startUrl = startUrl;\r\n    this.timeout = options.timeout || 10000;\r\n    this.headers = options.headers || {};\r\n  }\r\n\r\n  get<Response>(url: string) {\r\n    const newUrl = this.startUrl + url;\r\n    return this.request<null, Response>(\r\n      newUrl,\r\n      {\r\n        method: METHODS.GET,\r\n      },\r\n    );\r\n  }\r\n\r\n  put<Request, Response>(url: string, data: Request) {\r\n    return this.request<Request, Response>(\r\n      this.startUrl + url,\r\n      {\r\n        data,\r\n        method: METHODS.PUT,\r\n      },\r\n    );\r\n  }\r\n\r\n  post<Request, Response>(url: string, data?: Request) {\r\n    return this.request<Request, Response>(\r\n      this.startUrl + url,\r\n      {\r\n        data,\r\n        method: METHODS.POST,\r\n      },\r\n    );\r\n  }\r\n\r\n  delete<Request, Response>(url: string, data: Request) {\r\n    return this.request<Request, Response>(\r\n      this.startUrl + url,\r\n      {\r\n        data,\r\n        method: METHODS.DELETE,\r\n      },\r\n    );\r\n  }\r\n\r\n  // eslint-disable-next-line class-methods-use-this\r\n  request<Request, Response>(url: string, options: RequestOptions<Request>): Promise<Response> {\r\n    const {\r\n      method,\r\n      data,\r\n    } = options;\r\n    return new Promise((resolve, reject) => {\r\n      const xhr = new XMLHttpRequest();\r\n\r\n      xhr.open(method, url);\r\n\r\n      Object.entries(this.headers).forEach((v) => xhr.setRequestHeader(...v));\r\n\r\n      xhr.responseType = 'json';\r\n      xhr.onload = () => {\r\n        if (xhr.status < 400) {\r\n          resolve(xhr.response);\r\n        } else {\r\n          reject(xhr.response);\r\n        }\r\n      };\r\n\r\n      xhr.onabort = reject;\r\n      xhr.onerror = reject;\r\n      xhr.timeout = this.timeout;\r\n      xhr.ontimeout = reject;\r\n      xhr.withCredentials = true;\r\n\r\n      if (method === METHODS.GET || !data) {\r\n        xhr.send();\r\n      } else if (!(data instanceof FormData)) {\r\n        xhr.setRequestHeader('Content-Type', 'application/json');\r\n        xhr.send(JSON.stringify(data));\r\n      } else {\r\n        xhr.send(data);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport default HTTP;\r\n","import Helper from './Helper';\r\n\r\nexport default Helper;\r\n","import BlockEvent from '../../types/BlockEvent';\r\nimport Block from '../../utils/Block';\r\nimport Button from '../Button';\r\nimport identification from './helper.pug';\r\n\r\nclass Helper extends Block {\r\n  constructor(props: {\r\n    text: string,\r\n    textLink: string,\r\n    onclick: BlockEvent,\r\n  }) {\r\n    super('div', {}, {\r\n      text: props.text,\r\n      link: new Button({\r\n        onclick: props.onclick,\r\n        content: props.textLink,\r\n        theme: 'link',\r\n      }),\r\n    });\r\n  }\r\n\r\n  // eslint-disable-next-line class-methods-use-this\r\n  render() {\r\n    return identification({\r\n      text: this.props.text,\r\n      link: this.props.link,\r\n    });\r\n  }\r\n}\r\n\r\nexport default Helper;\r\n","import Block from './Block';\r\n\r\nclass Route {\r\n  public pathname: string;\r\n\r\n  private BlockClass: typeof Block;\r\n\r\n  private block: Block | null;\r\n\r\n  private currentRoot: HTMLElement;\r\n\r\n  constructor(pathname: string, view: typeof Block, currentRoot: HTMLElement) {\r\n    this.pathname = pathname;\r\n    this.BlockClass = view;\r\n    this.block = null;\r\n    this.currentRoot = currentRoot;\r\n  }\r\n\r\n  match(pathname: string) {\r\n    return this.pathname.startsWith(pathname);\r\n  }\r\n\r\n  render() {\r\n    this.block = new this.BlockClass();\r\n    this.currentRoot.innerHTML = '';\r\n    this.currentRoot.appendChild(this.block.element);\r\n  }\r\n}\r\n\r\nexport default Route;\r\n","import Block from './Block';\nimport Route from './Route';\n\nclass Router {\n  private currentRoot: HTMLElement;\n\n  public static instance: Router | undefined;\n\n  public routes: Array<Route>;\n\n  private history: History;\n\n  constructor(currentRoot?: HTMLElement) {\n    if (Router.instance) {\n      return Router.instance;\n    }\n    if (!currentRoot) {\n      throw Error('undefind root node');\n    }\n    this.routes = [];\n    this.history = window.history;\n    this.currentRoot = currentRoot;\n\n    Router.instance = this;\n  }\n\n  use(pathname: string, block: typeof Block) {\n    const route = new Route(pathname, block, this.currentRoot);\n    this.routes.push(route);\n    return this;\n  }\n\n  start() {\n    window.onpopstate = ((e) => {\n      const window = e.target as Window;\n      this.onRoute(window.location.pathname);\n    });\n\n    this.onRoute(window.location.pathname);\n  }\n\n  private onRoute(pathname: string) {\n    const route = this.getRoute(pathname);\n    if (!route) {\n      return;\n    }\n    route.render();\n  }\n\n  go(pathname: string) {\n    this.history.pushState({}, pathname, pathname);\n    this.onRoute(pathname);\n  }\n\n  back() {\n    this.history.back();\n  }\n\n  forward() {\n    this.history.forward();\n  }\n\n  private getRoute(pathname: string) {\n    return this.routes.find((route) => route.match(pathname));\n  }\n}\nexport default Router;\n","abstract class BaseAPI {\n  abstract create?(param: any): Promise<any>;\n\n  abstract request?(param: any): Promise<any>;\n\n  abstract update?(param: any): Promise<any>;\n\n  abstract delete?(param: any): Promise<any>;\n}\n\nexport default BaseAPI;\n","import LoginRequest from '../types/LoginRequest';\r\nimport { Profile, RegUser } from '../types/User';\r\nimport BaseAPI from '../utils/base-api';\r\nimport HTTP from '../utils/HTTP';\r\n\r\nconst authAPIInstance = new HTTP('https://ya-praktikum.tech/api/v2/auth');\r\n\r\nclass AuthAPI extends BaseAPI {\r\n  public login(user: LoginRequest) {\r\n    return authAPIInstance.post<LoginRequest, void>('/signin', user);\r\n  }\r\n\r\n  public logout() {\r\n    return authAPIInstance.post<void, void>('/logout');\r\n  }\r\n\r\n  public create(user: RegUser) {\r\n    return authAPIInstance.post<RegUser, { id: number }>('/signup', user);\r\n  }\r\n\r\n  public request() {\r\n    return authAPIInstance.get<Profile>('/user');\r\n  }\r\n\r\n  update: undefined;\r\n\r\n  delete: undefined;\r\n}\r\n\r\nexport default AuthAPI;\r\n","import ApiError from '../../types/ApiError';\r\n\r\nconst setAuthError = (payload: ApiError) => ({\r\n  type: 'errors/SETAUTH',\r\n  payload,\r\n});\r\n\r\nexport default setAuthError;\r\n","import { Profile } from '../../types/User';\r\n\r\nconst setProfile = (profile: Profile) => ({\r\n  type: 'profile/SET',\r\n  payload: profile,\r\n});\r\n\r\nexport default setProfile;\r\n","import ApiError from '../../types/ApiError';\r\n\r\nconst setRegError = (payload: ApiError) => ({\r\n  type: 'errors/SETREG',\r\n  payload,\r\n});\r\n\r\nexport default setRegError;\r\n","import Action from '../types/Action';\r\nimport Listener from './Listener';\r\nimport Reducer from './Reducer';\r\n\r\nclass Store {\r\n  private state: Indexed = {};\r\n\r\n  private listeners: Array<Listener> = [];\r\n\r\n  private reducers: {\r\n    [index: string]: Reducer\r\n  } = {};\r\n\r\n  public addReducer(name: string, reducer: Reducer) {\r\n    this.reducers[name] = reducer;\r\n\r\n    this.dispatch({\r\n      type: '@@INIT',\r\n    });\r\n    return this;\r\n  }\r\n\r\n  public getState() {\r\n    return this.state;\r\n  }\r\n\r\n  public dispatch(action: Action) {\r\n    this.state = this.reducer(action);\r\n\r\n    this.emitListeners();\r\n  }\r\n\r\n  private emitListeners() {\r\n    this.listeners.forEach((listener) => listener(this.state));\r\n  }\r\n\r\n  public subscribe(listener: Listener) {\r\n    listener(this.state);\r\n    this.listeners.push(listener);\r\n  }\r\n\r\n  private reducer(action: Action) {\r\n    const newState: Indexed = {};\r\n    Object.entries(this.reducers).forEach(([key, reducer]) => {\r\n      newState[key] = reducer(this.state[key], action);\r\n    });\r\n\r\n    return newState;\r\n  }\r\n}\r\nexport default new Store();\r\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","import AuthAPI from '../api/auth-api';\r\nimport setAuthError from '../store/actrionCreaters/setAuthError';\r\nimport setProfile from '../store/actrionCreaters/setProfile';\r\nimport setRegError from '../store/actrionCreaters/setRegError';\r\nimport LoginRequest from '../types/LoginRequest';\r\nimport { RegUser } from '../types/User';\r\nimport Router from '../utils/Router';\r\nimport Store from '../utils/Store';\r\n\r\nclass AuthService {\r\n  private api: AuthAPI;\r\n\r\n  constructor() {\r\n    this.api = new AuthAPI();\r\n  }\r\n\r\n  public async login(data: LoginRequest) {\r\n    try {\r\n      await this.api.login(data);\r\n      (new Router()).go('/');\r\n    } catch (error) {\r\n      Store.dispatch(setAuthError(error));\r\n    }\r\n  }\r\n\r\n  public async logout() {\r\n    try {\r\n      await this.api.logout();\r\n      (new Router()).go('/auth/');\r\n    } catch (err) {\r\n      // eslint-disable-next-line no-console\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n  public async reg(data: RegUser) {\r\n    try {\r\n      await this.api.create(data);\r\n      (new Router()).go('/');\r\n    } catch (error) {\r\n      Store.dispatch(setRegError(error));\r\n    }\r\n  }\r\n\r\n  public async getProfile() {\r\n    try {\r\n      const user = await this.api.request();\r\n      Store.dispatch(setProfile(user));\r\n    } catch (err) {\r\n      (new Router()).go('/auth/');\r\n    }\r\n  }\r\n\r\n  public async checkNotAuth() {\r\n    const user = await this.api.request();\r\n    (new Router()).go('/');\r\n    Store.dispatch(setProfile(user));\r\n  }\r\n}\r\n\r\nexport default new AuthService();\r\n","type PlainObject<T = any> = {\r\n  [k in string]: T;\r\n};\r\n\r\nfunction isPlainObject(value: unknown): value is PlainObject {\r\n  return (\r\n    typeof value === 'object'\r\n    && value !== null\r\n    && value.constructor === Object\r\n    && Object.prototype.toString.call(value) === '[object Object]'\r\n  );\r\n}\r\n\r\nfunction isArray(value: unknown): value is [] {\r\n  return Array.isArray(value);\r\n}\r\n\r\nfunction isArrayOrObject(value: unknown): value is [] | PlainObject {\r\n  return isPlainObject(value) || isArray(value);\r\n}\r\n\r\nfunction isEqual(lhs: PlainObject, rhs: PlainObject) {\r\n  if (Object.keys(lhs).length !== Object.keys(rhs).length) {\r\n    return false;\r\n  }\r\n\r\n  // eslint-disable-next-line no-restricted-syntax\r\n  for (const [key, value] of Object.entries(lhs)) {\r\n    const rightValue = rhs[key];\r\n    if (isArrayOrObject(value) && isArrayOrObject(rightValue)) {\r\n      if (isEqual(value, rightValue)) {\r\n        // eslint-disable-next-line no-continue\r\n        continue;\r\n      }\r\n      return false;\r\n    }\r\n    if (value !== rightValue) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nexport default isEqual;\r\n","import isEqual from './isEqual';\r\n\r\nconst memoize = <Data = any>(dataFunc: (state: any) => Data, actionFunc: (data: Data) => void) => {\r\n  let memo: Data;\r\n  return (state: any) => {\r\n    const data = dataFunc(state);\r\n    if (!isEqual({ a: data }, { a: memo })) {\r\n      actionFunc(data);\r\n      memo = data;\r\n    }\r\n  };\r\n};\r\n\r\nexport default memoize;\r\n","import ApiError from '../../types/ApiError';\r\n\r\nconst selectRegError = (state: Indexed) => state.errors.reg as ApiError | undefined;\r\n\r\nexport default selectRegError;\r\n","import Block from '../../utils/Block';\r\nimport reg from './reg.pug';\r\nimport MainForm from '../../components/MainForm';\r\nimport Identification from '../../components/Identification';\r\nimport Helper from '../../components/Helper';\r\nimport Router from '../../utils/Router';\r\nimport AuthService from '../../services/AuthService';\r\nimport memoize from '../../utils/memoize';\r\nimport selectRegError from '../../store/selectors/selectRegError';\r\nimport Store from '../../utils/Store';\r\nimport { RegUser } from '../../types/User';\r\n\r\nexport default class AuthPage extends Block {\r\n  constructor() {\r\n    super('div', {}, {\r\n      regForm: new Identification({\r\n        title: '',\r\n        form: new MainForm({\r\n          valid: true,\r\n          buttonText: '',\r\n          fields: [{\r\n            placeholder: '',\r\n            name: 'first_name',\r\n            type: 'text',\r\n            validFunc: (value: string) => /^[-A-Z][-a-z]+$/.test(value),\r\n          }, {\r\n            placeholder: '',\r\n            name: 'second_name',\r\n            type: 'text',\r\n            validFunc: (value: string) => /^[-A-Z][-a-z]+$/.test(value),\r\n          }, {\r\n            placeholder: '',\r\n            name: 'login',\r\n            type: 'text',\r\n            validFunc: (value: string) => /^(?=.*[a-zA-Z_-])[a-zA-Z0-9-_]{3,20}$/.test(value),\r\n          }, {\r\n            placeholder: '',\r\n            name: 'email',\r\n            type: 'text',\r\n            validFunc: (value: string) => /^(?=.*[a-zA-Z_@-])[a-zA-Z_@-]+@[a-zA-Z_-]+\\.[a-zA-Z_-]+$/.test(value),\r\n          }, {\r\n            placeholder: '',\r\n            name: 'phone',\r\n            type: 'text',\r\n            validFunc: (value: string) => /^[\\d/+]\\d{9,14}$/.test(value),\r\n          }, {\r\n            placeholder: '',\r\n            name: 'password',\r\n            type: 'password',\r\n            validFunc: (value: string) => /^(?=.*[A-Z-])(?=.*\\d).{8,40}$/.test(value),\r\n          }],\r\n          submit: (formObj: RegUser) => {\r\n            AuthService.reg(formObj);\r\n          },\r\n        }),\r\n        helper: new Helper({\r\n          text: '  ?',\r\n          onclick: () => {\r\n            (new Router()).go('/auth/');\r\n          },\r\n          textLink: '',\r\n        }),\r\n      }),\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    AuthService.checkNotAuth();\r\n    document.title = '';\r\n    const memoizeErrorMessage = memoize(\r\n      (state) => selectRegError(state),\r\n      (error) => {\r\n        if (!error) {\r\n          return;\r\n        }\r\n        this.props.regForm.props.form.setProps({\r\n          error: error.reason,\r\n        });\r\n      },\r\n    );\r\n    Store.subscribe((state) => {\r\n      memoizeErrorMessage(state);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return reg({\r\n      form: this.props.regForm,\r\n    });\r\n  }\r\n}\r\n","include ../../templates/centering/centering\r\n\r\n+centering\r\n  div \r\n    | !{form}","import ApiError from '../../types/ApiError';\r\n\r\nconst selectAuthError = (state: Indexed) => state.errors.auth as ApiError | undefined;\r\n\r\nexport default selectAuthError;\r\n","import Block from '../../utils/Block';\r\nimport auth from './auth.pug';\r\nimport Helper from '../../components/Helper';\r\nimport Identification from '../../components/Identification';\r\nimport MainForm from '../../components/MainForm';\r\nimport AuthService from '../../services/AuthService';\r\nimport LoginRequest from '../../types/LoginRequest';\r\nimport Router from '../../utils/Router';\r\nimport memoize from '../../utils/memoize';\r\nimport selectAuthError from '../../store/selectors/selectAuthError';\r\nimport Store from '../../utils/Store';\r\n\r\nexport default class AuthPage extends Block {\r\n  constructor() {\r\n    super('div', {}, {\r\n      form: new Identification<LoginRequest>({\r\n        title: '',\r\n        form: new MainForm({\r\n          valid: true,\r\n          buttonText: '',\r\n          fields: [{\r\n            placeholder: '',\r\n            name: 'login',\r\n            type: 'text',\r\n          }, {\r\n            placeholder: '',\r\n            name: 'password',\r\n            type: 'password',\r\n          }],\r\n          submit: async (formObj) => {\r\n            await AuthService.login(formObj);\r\n          },\r\n        }),\r\n        helper: new Helper({\r\n          text: ' ?',\r\n          onclick: () => {\r\n            (new Router()).go('/reg/');\r\n          },\r\n          textLink: '',\r\n        }),\r\n      }),\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.title = '';\r\n    AuthService.checkNotAuth();\r\n    const memoizeErrorMessage = memoize(\r\n      (state) => selectAuthError(state),\r\n      (error) => {\r\n        if (!error) {\r\n          return;\r\n        }\r\n        this.props.form.props.form.setProps({\r\n          error: error.reason,\r\n        });\r\n      },\r\n    );\r\n    Store.subscribe((state) => {\r\n      memoizeErrorMessage(state);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return auth({\r\n      form: this.props.form,\r\n    });\r\n  }\r\n}\r\n","import Chat from '../types/Chat';\r\nimport BaseAPI from '../utils/base-api';\r\nimport HTTP from '../utils/HTTP';\r\n\r\nconst chatsAPIInstance = new HTTP('https://ya-praktikum.tech/api/v2/chats');\r\n\r\nclass ChatsAPI extends BaseAPI {\r\n  public request() {\r\n    return chatsAPIInstance.get<Array<Chat>>('/');\r\n  }\r\n\r\n  public create(data: { title: string }) {\r\n    return chatsAPIInstance.post<{ title: string }, { id: number }>('/', data);\r\n  }\r\n\r\n  public token(chatId: number) {\r\n    return chatsAPIInstance.post<undefined, { token: string }>(`/token/${chatId}`);\r\n  }\r\n\r\n  update: undefined;\r\n\r\n  delete: undefined;\r\n}\r\n\r\nexport default ChatsAPI;\r\n","const setActiveChatId = (id: number) => ({\r\n  type: 'currentChat/SETACTIVECHATID',\r\n  payload: id,\r\n});\r\n\r\nexport default setActiveChatId;\r\n","const setChatNamePopUpDisable = () => ({\r\n  type: 'popUp/SETCHATNAMEDISABLE',\r\n});\r\n\r\nexport default setChatNamePopUpDisable;\r\n","import Chat from '../../types/Chat';\r\n\r\nconst setChats = (chats: Array<Chat>) => ({\r\n  type: 'chats/SET',\r\n  payload: chats,\r\n});\r\n\r\nexport default setChats;\r\n","import Chat from '../../types/Chat';\r\n\r\nconst selectChat = (state: Indexed, chatId: number): Chat | undefined => {\r\n  const c: Chat = state.chats.find((chat: Chat) => chat.id === chatId);\r\n  return c;\r\n};\r\n\r\nexport default selectChat;\r\n","import Message from '../../types/Message';\r\n\r\nconst addNewMessages = (chatId: number, messages: Array<Message>) => ({\r\n  type: 'chats/ADDNEWMESSAGES',\r\n  payload: {\r\n    chatId,\r\n    messages,\r\n  },\r\n});\r\n\r\nexport default addNewMessages;\r\n","import Message from '../../types/Message';\r\n\r\nconst addOldMessages = (chatId: number, messages: Array<Message>) => ({\r\n  type: 'chats/ADDOLDMESSAGES',\r\n  payload: {\r\n    chatId,\r\n    messages,\r\n  },\r\n});\r\n\r\nexport default addOldMessages;\r\n","import Chat from '../../types/Chat';\r\n\r\nconst selectActiveChat = (state: Indexed): Chat | undefined => {\r\n  // eslint-disable-next-line max-len\r\n  const activeChat: Chat = state.chats.find((chat: Chat) => chat.id === state.currentChat.activeChatId);\r\n  return activeChat;\r\n};\r\n\r\nexport default selectActiveChat;\r\n","import { Profile } from '../../types/User';\r\n\r\nconst selectProfile = (state: Indexed) => state.profile as Profile | undefined;\r\n\r\nexport default selectProfile;\r\n","import ChatsAPI from '../api/chats-api';\r\nimport addNewMessages from '../store/actrionCreaters/addNewMessages';\r\nimport addOldMessages from '../store/actrionCreaters/addOldMessages';\r\nimport selectActiveChat from '../store/selectors/selectActiveChat';\r\nimport selectProfile from '../store/selectors/selectProfile';\r\nimport Message from '../types/Message';\r\nimport Store from '../utils/Store';\r\n\r\nclass MessagesService {\r\n  private sockets: {\r\n    [key: number]: WebSocket;\r\n  } = {};\r\n\r\n  public async connect(chatId: number) {\r\n    const state = Store.getState();\r\n    const profile = selectProfile(state);\r\n    if (!profile) {\r\n      return;\r\n    }\r\n    const chatsApi = new ChatsAPI();\r\n    const { token } = await chatsApi.token(chatId);\r\n    const socket = new WebSocket(`wss://ya-praktikum.tech/ws/chats/${profile.id}/${chatId}/${token}`);\r\n    this.sockets[chatId] = socket;\r\n    socket.addEventListener('message', (event) => {\r\n      this.get(event.data, chatId);\r\n    });\r\n  }\r\n\r\n  private async get(data: string, chat_id: number) {\r\n    const result: Message = await JSON.parse(data);\r\n    if (result.type === 'message') {\r\n      Store.dispatch(addNewMessages(chat_id, [result]));\r\n    }\r\n    if (Array.isArray(result)) {\r\n      Store.dispatch(addOldMessages(chat_id, result));\r\n    }\r\n  }\r\n\r\n  public send(message: string) {\r\n    if (!message) {\r\n      return;\r\n    }\r\n    const state = Store.getState();\r\n    const chat = selectActiveChat(state);\r\n    if (!chat) {\r\n      return;\r\n    }\r\n    this.sockets[chat.id].send(JSON.stringify({\r\n      content: message,\r\n      type: 'message',\r\n    }));\r\n  }\r\n\r\n  public async getlastMessages(chatId: number, offset: number = 0) {\r\n    this.sockets[chatId].send(JSON.stringify({\r\n      content: offset,\r\n      type: 'get old',\r\n    }));\r\n  }\r\n}\r\n\r\nexport default new MessagesService();\r\n","import ChatsAPI from '../api/chats-api';\r\nimport setActiveChatId from '../store/actrionCreaters/setActiveChatId';\r\nimport setChatNamePopUpDisable from '../store/actrionCreaters/setChatNamePopUpDisable';\r\nimport setChats from '../store/actrionCreaters/setChats';\r\nimport selectChat from '../store/selectors/selectChat';\r\nimport Store from '../utils/Store';\r\nimport MessagesService from './MessagesService';\r\n\r\nclass ChatsService {\r\n  private api: ChatsAPI;\r\n\r\n  constructor() {\r\n    this.api = new ChatsAPI();\r\n  }\r\n\r\n  public async init() {\r\n    try {\r\n      const chats = await this.api.request();\r\n      Store.dispatch(setChats(chats));\r\n      chats.forEach((chat) => {\r\n        MessagesService.connect(chat.id);\r\n      });\r\n    } catch (error) {\r\n      // eslint-disable-next-line no-console\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  public async get(chatId: number) {\r\n    Store.dispatch(setActiveChatId(chatId));\r\n    const state = Store.getState();\r\n    const chat = selectChat(state, chatId);\r\n    if (!chat) {\r\n      return;\r\n    }\r\n    if (!chat.messages || chat.messages.length < 20) {\r\n      const offset = chat.messages ? chat.messages.length : 0;\r\n      MessagesService.getlastMessages(chatId, offset);\r\n    }\r\n  }\r\n\r\n  public async create(data: { title: string }) {\r\n    try {\r\n      await this.api.create(data);\r\n      Store.dispatch(setChatNamePopUpDisable());\r\n      this.init();\r\n    } catch (err) {\r\n      // eslint-disable-next-line no-console\r\n      console.log(err);\r\n    }\r\n  }\r\n}\r\n\r\nexport default new ChatsService();\r\n",".chat-item__main\r\n  .chat-item__img-container\r\n    img.chat-item__img(src= img)\r\n  .chat-item__content\r\n    p.chat-item__author #{author} \r\n    p.chat-item__message #{message}\r\n.chat-item__meta\r\n    .chat-item__count\r\n      if count !== 0\r\n        .chat-item__count-text #{count}\r\n    p.chat-item__date #{date}","import ChatItem from './ChatItem';\r\n\r\nexport default ChatItem;\r\n","import ChatsService from '../../services/ChatsService';\r\nimport selectActiveChat from '../../store/selectors/selectActiveChat';\r\nimport Block from '../../utils/Block';\r\nimport memoize from '../../utils/memoize';\r\nimport Store from '../../utils/Store';\r\nimport chatItem from './chatItem.pug';\r\n\r\nclass ChatItem extends Block {\r\n  constructor(props: {\r\n    id: number,\r\n    author: string,\r\n    message: string,\r\n    date: string,\r\n    count: number,\r\n    img: string,\r\n  }) {\r\n    super('div', {}, {\r\n      id: props.id,\r\n      author: props.author,\r\n      message: props.message,\r\n      date: props.date,\r\n      count: props.count,\r\n      img: props.img,\r\n      active: false,\r\n      events: {\r\n        click: () => {\r\n          ChatsService.get(this.props.id);\r\n        },\r\n      },\r\n    });\r\n  }\r\n\r\n  setClass() {\r\n    let baseClass = 'chat-item';\r\n    if (this.props.active) {\r\n      baseClass = `${baseClass} chat-item_active`;\r\n    }\r\n    this.attrs.class = baseClass;\r\n  }\r\n\r\n  componentDidMount() {\r\n    const memoizeActiveChat = memoize(\r\n      (state) => selectActiveChat(state),\r\n      (data) => {\r\n        if (!data) {\r\n          return;\r\n        }\r\n        this.setProps({\r\n          active: this.props.id === data.id,\r\n        });\r\n      },\r\n    );\r\n    Store.subscribe((state) => {\r\n      memoizeActiveChat(state);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    this.setClass();\r\n    return chatItem(this.props);\r\n  }\r\n}\r\n\r\nexport default ChatItem;\r\n",".profile-button\r\n  .profile-button__img-container\r\n    img.profile-button__img(src= avatar)\r\n  p.profile-button__name #{name}","import ProfileButton from './ProfileButton';\r\n\r\nexport default ProfileButton;\r\n","import Block from '../../utils/Block';\r\nimport Router from '../../utils/Router';\r\nimport profileButton from './profileButton.pug';\r\n\r\nclass ProfileButton extends Block {\r\n  constructor(props: {\r\n    avatar: string,\r\n    name: string,\r\n    link?: string,\r\n  }) {\r\n    super('div', {}, {\r\n      avatar: props.avatar,\r\n      name: props.name,\r\n      link: props.link,\r\n      events: {\r\n        click: () => {\r\n          if (this.props.link) {\r\n            (new Router()).go(this.props.link);\r\n          }\r\n        },\r\n      },\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return profileButton(this.props);\r\n  }\r\n}\r\n\r\nexport default ProfileButton;\r\n",".chat-list__search !{search}\r\n.chat-list__bar !{chatBar}\r\n.chat-list__footer \r\n  .chat-list__profile !{profile}\r\n  .chat-list__add !{addChatButton} ","import Chat from '../../types/Chat';\r\n\r\nconst selectChats = (state: Indexed) => state.chats as Array<Chat>;\r\n\r\nexport default selectChats;\r\n","const setChatNamePopUpActive = () => ({\r\n  type: 'popUp/SETCHATNAMEACTIVE',\r\n});\r\n\r\nexport default setChatNamePopUpActive;\r\n","const transformDate = (time: string) => {\r\n  const date = new Date(Date.parse(time));\r\n  return `${date.getHours()}:${date.getMinutes()}`;\r\n};\r\n\r\nexport default transformDate;\r\n","each val in chats ? chats : ['There are no values']  \r\n  | !{val}","import ChatsBar from './ChatsBar';\r\n\r\nexport default ChatsBar;\r\n","import Block from '../../utils/Block';\r\nimport ChatItem from '../ChatItem';\r\nimport chatsBar from './chatsBar.pug';\r\n\r\nclass ChatsBar extends Block {\r\n  constructor() {\r\n    super('div', {}, {\r\n      chats: [],\r\n      searchValue: '',\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const chats = this.props.chats\r\n      .filter((chat: ChatItem) => chat.props.author.startsWith(this.props.searchValue));\r\n    return chatsBar({\r\n      chats,\r\n    });\r\n  }\r\n}\r\n\r\nexport default ChatsBar;\r\n","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","module.exports = require('./helpers/bundle-url').getBundleURL('3rcRr') + require('./helpers/bundle-manifest').resolve(\"20k4a\");","import imageURL from '../../static/img/avatar.jpg';\r\n\r\nconst getAvatar = (link: string | undefined | null) => (link ? `https://ya-praktikum.tech/api/v2/resources${link}` : imageURL);\r\n\r\nexport default getAvatar;\r\n","import ChatsList from './ChatsList';\r\n\r\nexport default ChatsList;\r\n","import Block from '../../utils/Block';\r\nimport ChatItem from '../ChatItem';\r\nimport Input from '../Input';\r\nimport ProfileButton from '../ProfileButton';\r\nimport chatsList from './chatsList.pug';\r\nimport Button from '../Button';\r\nimport Store from '../../utils/Store';\r\nimport selectChats from '../../store/selectors/selectChats';\r\nimport setChatNamePopUpActive from '../../store/actrionCreaters/setChatNamePopUpActive';\r\nimport memoize from '../../utils/memoize';\r\nimport transformDate from '../../utils/transformDate';\r\nimport selectProfile from '../../store/selectors/selectProfile';\r\nimport ChatsBar from '../ChatBar';\r\nimport getAvatar from '../../utils/getAvatar';\r\n\r\nclass ChatsList extends Block {\r\n  constructor() {\r\n    super('div', {}, {\r\n      chatBar: new ChatsBar(),\r\n      search: new Input({\r\n        placeholder: '  ',\r\n        name: 'search',\r\n        type: 'text',\r\n        events: {\r\n          input: (e: KeyboardEvent) => {\r\n            if (!e.target) {\r\n              return;\r\n            }\r\n            const input = e.target as HTMLInputElement;\r\n            this.props.chatBar.setProps({\r\n              searchValue: input.value,\r\n            });\r\n          },\r\n        },\r\n      }),\r\n      addChatButton: new Button({\r\n        content: ' ',\r\n        onclick: () => {\r\n          Store.dispatch(setChatNamePopUpActive());\r\n        },\r\n      }),\r\n      profile: new ProfileButton({\r\n        avatar: '',\r\n        link: '/profile/',\r\n        name: '',\r\n      }),\r\n    });\r\n  }\r\n\r\n  setClass() {\r\n    const baseClass = 'chat-list';\r\n    this.attrs.class = baseClass;\r\n  }\r\n\r\n  componentDidMount() {\r\n    const memoizeSelectChats = memoize(\r\n      (state) => selectChats(state),\r\n      (data) => {\r\n        this.props.chatBar.setProps({\r\n          chats: data.map((c) => {\r\n            const lastMessege = c.messages ? c.messages[0] : c.last_message;\r\n            return new ChatItem({\r\n              id: c.id,\r\n              author: c.title,\r\n              message: lastMessege ? lastMessege.content : '  ',\r\n              date: lastMessege ? transformDate(lastMessege.time) : '',\r\n              count: c.unread_count,\r\n              img: getAvatar(c.avatar),\r\n            });\r\n          }),\r\n        });\r\n      },\r\n    );\r\n    const memoizeGetProfile = memoize(\r\n      (state) => selectProfile(state),\r\n      (profile) => {\r\n        if (!profile) {\r\n          return;\r\n        }\r\n        this.props.profile.setProps({\r\n          avatar: getAvatar(profile.avatar),\r\n          name: `${profile.first_name} ${profile.second_name}`,\r\n        });\r\n      },\r\n    );\r\n    Store.subscribe((state) => {\r\n      memoizeSelectChats(state);\r\n      memoizeGetProfile(state);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    this.setClass();\r\n    return chatsList(this.props);\r\n  }\r\n}\r\n\r\nexport default ChatsList;\r\n","include ../../templates/centering/centering\r\n\r\n\r\n| !{chatList}\r\n| !{chatWindow}\r\n| !{chatNamePopUp}\r\n| !{chatSettingsPopUp}",".chat-window__header \r\n  .chat-window__profile \r\n    | !{profile}\r\n  .chat-window__settings-button \r\n    | !{chatSettingsButton}\r\n.chat-window__messeges\r\n  | !{messagesList}\r\n.chat-window__input\r\n  | !{message}",".create-message \r\n  .create-message_input !{inputMessage}\r\n  .create-message_button !{sendButton}","import CreateMessege from './CreateMessege';\r\n\r\nexport default CreateMessege;\r\n","import MessgesService from '../../services/MessagesService';\r\nimport Block from '../../utils/Block';\r\nimport Button from '../Button';\r\nimport Input from '../Input';\r\nimport createMessege from './createMessege.pug';\r\n\r\nclass CreateMessege extends Block {\r\n  constructor() {\r\n    super('div', {}, {\r\n      sendButton: new Button({\r\n        content: '',\r\n        onclick: () => this.sendMessage(),\r\n      }),\r\n      inputMessage: new Input({\r\n        placeholder: ' ',\r\n        name: 'message',\r\n        type: 'text',\r\n        fullHeight: true,\r\n      }),\r\n    });\r\n  }\r\n\r\n  sendMessage() {\r\n    const input = this.props.inputMessage.element as HTMLInputElement;\r\n    MessgesService.send(input.value);\r\n    input.value = '';\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener('keydown', (event) => {\r\n      if (event.key === 'Enter') {\r\n        event.preventDefault();\r\n        this.sendMessage();\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return createMessege(this.props);\r\n  }\r\n}\r\n\r\nexport default CreateMessege;\r\n","import Message from '../../types/Message';\r\nimport selectActiveChat from './selectActiveChat';\r\n\r\nconst selectMessages = (state: Indexed): Array<Message> | undefined => {\r\n  const activeChat = selectActiveChat(state);\r\n  if (!activeChat) {\r\n    return [];\r\n  }\r\n  return activeChat.messages;\r\n};\r\n\r\nexport default selectMessages;\r\n","each val in messages ? messages : ['There are no values']  \r\n  | !{val}",".message_content  #{text}\r\n.message_footer \r\n  .message_author \r\n  .message_date  #{date}","import Message from './Message';\r\n\r\nexport default Message;\r\n","import Block from '../../utils/Block';\r\nimport message from './message.pug';\r\n\r\nclass Message extends Block {\r\n  constructor(props: {\r\n    id: number,\r\n    text: string,\r\n    date: string,\r\n    self: boolean,\r\n  }) {\r\n    super('div', {}, {\r\n      id: props.id,\r\n      text: props.text,\r\n      date: props.date,\r\n      self: props.self,\r\n    });\r\n  }\r\n\r\n  setClass() {\r\n    let baseClass = 'message';\r\n    if (this.props.self) {\r\n      baseClass = `${baseClass} message__self`;\r\n    }\r\n    this.attrs.class = baseClass;\r\n  }\r\n\r\n  render() {\r\n    this.setClass();\r\n    return message(this.props);\r\n  }\r\n}\r\n\r\nexport default Message;\r\n","import MessagesList from './MessagesList';\r\n\r\nexport default MessagesList;\r\n","import selectMessages from '../../store/selectors/selectMessages';\r\nimport Block from '../../utils/Block';\r\nimport memoize from '../../utils/memoize';\r\nimport Store from '../../utils/Store';\r\nimport messagesList from './messagesList.pug';\r\nimport Message from '../Message';\r\nimport selectProfile from '../../store/selectors/selectProfile';\r\nimport transformDate from '../../utils/transformDate';\r\n\r\nclass MessagesList extends Block {\r\n  constructor() {\r\n    super('div', {}, {\r\n      messages: ['dssdf', 'sdfsf'],\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    const memoizeMessages = memoize(\r\n      (state) => {\r\n        const messages = selectMessages(state);\r\n        const profile = selectProfile(state);\r\n        return {\r\n          messages,\r\n          profile,\r\n        };\r\n      },\r\n      ({ messages, profile }) => {\r\n        if (!messages || !profile) {\r\n          return;\r\n        }\r\n        this.setProps({\r\n          messages: messages.map((d) => new Message({\r\n            id: d.id,\r\n            text: d.content,\r\n            date: transformDate(d.time),\r\n            self: d.user_id === profile.id,\r\n          })),\r\n        });\r\n      },\r\n    );\r\n    Store.subscribe((state) => {\r\n      memoizeMessages(state);\r\n    });\r\n  }\r\n\r\n  setClass() {\r\n    const baseClass = 'messages-list';\r\n    this.attrs.class = baseClass;\r\n  }\r\n\r\n  render() {\r\n    this.setClass();\r\n    return messagesList(this.props);\r\n  }\r\n}\r\n\r\nexport default MessagesList;\r\n","import { Member } from '../types/User';\r\nimport BaseAPI from '../utils/base-api';\r\nimport HTTP from '../utils/HTTP';\r\n\r\nconst membersAPIInstance = new HTTP('https://ya-praktikum.tech/api/v2/chats/users');\r\n\r\nclass MembersAPI extends BaseAPI {\r\n  public request(chatId: number) {\r\n    const api = new HTTP(`https://ya-praktikum.tech/api/v2/chats/${chatId}/users`);\r\n    return api.get<Array<Member>>('/');\r\n  }\r\n\r\n  public create(param: { userId: number, chatId: number }) {\r\n    return membersAPIInstance.put<{ users: Array<number>, chatId: number }, string>('/', { users: [param.userId], chatId: param.chatId });\r\n  }\r\n\r\n  public delete(param: { userId: number, chatId: number }) {\r\n    return membersAPIInstance.delete<{ users: Array<number>, chatId: number }, string>('/', { users: [param.userId], chatId: param.chatId });\r\n  }\r\n\r\n  update: undefined;\r\n}\r\n\r\nexport default MembersAPI;\r\n","const setChatSettingsPopUpActive = () => ({\r\n  type: 'popUp/SETCHATSETTINGACTIVE',\r\n});\r\n\r\nexport default setChatSettingsPopUpActive;\r\n","import { User } from '../../types/User';\r\n\r\nconst setMembers = (payload: { chatId: number, members: Array<User> }) => ({\r\n  type: 'chats/SETMEMBERS',\r\n  payload,\r\n});\r\n\r\nexport default setMembers;\r\n","import MembersAPI from '../api/members-api';\r\nimport setChatSettingsPopUpActive from '../store/actrionCreaters/setChatSettingsPopUpActive';\r\nimport setMembers from '../store/actrionCreaters/setMembers';\r\nimport selectActiveChat from '../store/selectors/selectActiveChat';\r\nimport Store from '../utils/Store';\r\n\r\nclass MembersService {\r\n  private api: MembersAPI;\r\n\r\n  constructor() {\r\n    this.api = new MembersAPI();\r\n  }\r\n\r\n  public openMembersPopUp() {\r\n    Store.dispatch(setChatSettingsPopUpActive());\r\n    const activeChat = selectActiveChat(Store.getState());\r\n    if (!activeChat) {\r\n      return;\r\n    }\r\n    this.get(activeChat.id);\r\n  }\r\n\r\n  public async get(chatId: number) {\r\n    try {\r\n      const members = await this.api.request(chatId);\r\n      Store.dispatch(setMembers({ chatId, members }));\r\n    } catch (error) {\r\n      // eslint-disable-next-line no-console\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  public async add(userId: number) {\r\n    try {\r\n      const chat = selectActiveChat(Store.getState());\r\n      if (!chat) {\r\n        return;\r\n      }\r\n      await this.api.create({ userId, chatId: chat.id });\r\n      this.get(chat.id);\r\n    } catch (error) {\r\n      // eslint-disable-next-line no-console\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  public async delete(userId: number) {\r\n    try {\r\n      const chat = selectActiveChat(Store.getState());\r\n      if (!chat) {\r\n        return;\r\n      }\r\n      await this.api.delete({ userId, chatId: chat.id });\r\n      this.get(chat.id);\r\n    } catch (error) {\r\n      // eslint-disable-next-line no-console\r\n      console.log(error);\r\n    }\r\n  }\r\n}\r\n\r\nexport default new MembersService();\r\n","import Icon from './Icon';\r\n\r\nexport default Icon;\r\n","import Block from '../../utils/Block';\r\n\r\nclass Icon extends Block {\r\n  constructor(props: {\r\n    name: 'plus-square' | 'sliders' | 'trash-2',\r\n  }) {\r\n    super('div', {}, {\r\n      name: props.name,\r\n    });\r\n  }\r\n\r\n  setClass() {\r\n    const baseClass = `icon icon_name_${this.props.name}`;\r\n    this.attrs.class = baseClass;\r\n  }\r\n\r\n  render() {\r\n    this.setClass();\r\n    return '';\r\n  }\r\n}\r\n\r\nexport default Icon;\r\n","import ChatWindow from './ChatWindow';\r\n\r\nexport default ChatWindow;\r\n","import Block from '../../utils/Block';\r\nimport ProfileButton from '../ProfileButton';\r\nimport chatWindow from './chatWindow.pug';\r\nimport imageURL from '../../../static/img/avatar.jpg';\r\nimport Button from '../Button';\r\nimport Store from '../../utils/Store';\r\nimport selectActiveChat from '../../store/selectors/selectActiveChat';\r\nimport CreateMessege from '../CreateMessege';\r\nimport MessagesList from '../MessagesList';\r\nimport MembersService from '../../services/MembersService';\r\nimport Icon from '../Icon';\r\nimport getAvatar from '../../utils/getAvatar';\r\n\r\nclass ChatWindow extends Block {\r\n  constructor() {\r\n    super('div', {}, {\r\n      profile: new ProfileButton({\r\n        avatar: imageURL,\r\n        name: '',\r\n      }),\r\n      chatSettingsButton: new Button({\r\n        content: new Icon({\r\n          name: 'sliders',\r\n        }),\r\n        theme: 'icon',\r\n        onclick: () => MembersService.openMembersPopUp(),\r\n      }),\r\n      message: new CreateMessege(),\r\n      messagesList: new MessagesList(),\r\n    });\r\n  }\r\n\r\n  setClass() {\r\n    const baseClass = 'chat-window';\r\n    this.attrs.class = baseClass;\r\n  }\r\n\r\n  componentDidMount() {\r\n    Store.subscribe((state) => {\r\n      const chat = selectActiveChat(state);\r\n      if (!chat) {\r\n        return;\r\n      }\r\n      this.props.profile.setProps({\r\n        avatar: getAvatar(chat.avatar),\r\n        name: chat.title,\r\n      });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    this.setClass();\r\n    return chatWindow(this.props);\r\n  }\r\n}\r\n\r\nexport default ChatWindow;\r\n",".content !{content}","import PopUp from './PopUp';\r\n\r\nexport default PopUp;\r\n","import BlockEvent from '../../types/BlockEvent';\r\nimport Block from '../../utils/Block';\r\nimport popUp from './popUp.pug';\r\n\r\nclass Button extends Block {\r\n  constructor(props: {\r\n    content: Block,\r\n    disableFunc: BlockEvent,\r\n    active: boolean,\r\n  }) {\r\n    super('div', {}, {\r\n      content: props.content,\r\n      events: {\r\n        mousedown: (e) => {\r\n          if (e.target === e.currentTarget) {\r\n            props.disableFunc();\r\n          }\r\n        },\r\n      },\r\n      active: props.active,\r\n    });\r\n  }\r\n\r\n  setClass() {\r\n    let baseClass = 'pop-up';\r\n    if (this.props.active) {\r\n      baseClass = `${baseClass} pop-up_active`;\r\n    } else {\r\n      baseClass = `${baseClass} pop-up_disable`;\r\n    }\r\n\r\n    this.attrs.class = baseClass;\r\n  }\r\n\r\n  render() {\r\n    this.setClass();\r\n    return popUp(this.props);\r\n  }\r\n}\r\n\r\nexport default Button;\r\n",".create-chat_title  \r\n.create-chat_form \r\n  | !{form}","import CreateChat from './CreateChat';\r\n\r\nexport default CreateChat;\r\n","import ChatsService from '../../services/ChatsService';\r\nimport Block from '../../utils/Block';\r\nimport MainForm from '../MainForm';\r\nimport createChat from './createChat.pug';\r\n\r\nclass CreateChat extends Block {\r\n  constructor() {\r\n    super('div', {}, {\r\n      form: new MainForm<{ name: string }>({\r\n        valid: true,\r\n        buttonText: ' ',\r\n        fields: [{\r\n          placeholder: ' ',\r\n          name: 'name',\r\n          type: 'text',\r\n        }],\r\n        submit: async (formObj) => {\r\n          ChatsService.create({ title: formObj.name });\r\n        },\r\n      }),\r\n    });\r\n  }\r\n\r\n  setClass() {\r\n    const baseClass = 'create-chat';\r\n    this.attrs.class = baseClass;\r\n  }\r\n\r\n  render() {\r\n    this.setClass();\r\n    return createChat(this.props);\r\n  }\r\n}\r\n\r\nexport default CreateChat;\r\n","const selectCreateChatPopUpVisible = (state: Indexed) => state.popUp.chatName as boolean;\r\n\r\nexport default selectCreateChatPopUpVisible;\r\n","const setChatSettingsPopUpDisable = () => ({\r\n  type: 'popUp/SETCHATSETTINGDISABLE',\r\n});\r\n\r\nexport default setChatSettingsPopUpDisable;\r\n","const selectChatSettingPopUpVisible = (state: Indexed) => state.popUp.chatSetting as boolean;\r\n\r\nexport default selectChatSettingPopUpVisible;\r\n","import { Profile, UpdateProfileUser, User } from '../types/User';\r\nimport BaseAPI from '../utils/base-api';\r\nimport HTTP from '../utils/HTTP';\r\n\r\nconst userAPIInstance = new HTTP('https://ya-praktikum.tech/api/v2/user');\r\n\r\nclass UsersAPI extends BaseAPI {\r\n  public search(login: string) {\r\n    return userAPIInstance.post<{ login: string }, Array<User>>('/search', { login });\r\n  }\r\n\r\n  public update(user: UpdateProfileUser) {\r\n    return userAPIInstance.put<UpdateProfileUser, Profile>('/profile', user);\r\n  }\r\n\r\n  public updatePassword(pass: {\r\n    oldPassword: string,\r\n    newPassword: string,\r\n  }) {\r\n    return userAPIInstance.put<{\r\n      oldPassword: string,\r\n      newPassword: string,\r\n    }, string>('/password', pass);\r\n  }\r\n\r\n  public updateAvatar(formData: FormData) {\r\n    return userAPIInstance.put<FormData, Profile>('/profile/avatar', formData);\r\n  }\r\n\r\n  create: undefined;\r\n\r\n  request: undefined;\r\n\r\n  delete: undefined;\r\n}\r\n\r\nexport default UsersAPI;\r\n","const clearPasswordError = () => ({\r\n  type: 'errors/CLEARPASSWORD',\r\n});\r\n\r\nexport default clearPasswordError;\r\n","const clearProfileError = () => ({\r\n  type: 'errors/CLEARPROFILE',\r\n});\r\n\r\nexport default clearProfileError;\r\n","import ApiError from '../../types/ApiError';\r\n\r\nconst setPasswordError = (payload: ApiError) => ({\r\n  type: 'errors/SETPASSWORD',\r\n  payload,\r\n});\r\n\r\nexport default setPasswordError;\r\n","import ApiError from '../../types/ApiError';\r\n\r\nconst setProfileError = (payload: ApiError) => ({\r\n  type: 'errors/SETPROFILE',\r\n  payload,\r\n});\r\n\r\nexport default setProfileError;\r\n","import { User } from '../../types/User';\r\n\r\nconst setSearchUsers = (users: Array<User>) => ({\r\n  type: 'searchUsers/SETUSERS',\r\n  payload: users,\r\n});\r\n\r\nexport default setSearchUsers;\r\n","import selectActiveChat from './selectActiveChat';\r\nimport selectProfile from './selectProfile';\r\n\r\nconst checkChatRoot = (state: Indexed): boolean => {\r\n  const profile = selectProfile(state);\r\n  const chat = selectActiveChat(state);\r\n  return profile?.id === chat?.created_by;\r\n};\r\n\r\nexport default checkChatRoot;\r\n","import { User } from '../../types/User';\r\n\r\nconst selectSearchUsers = (state: Indexed) => state.searchUsers as Array<User>;\r\n\r\nexport default selectSearchUsers;\r\n","import UsersAPI from '../api/user-api';\r\nimport clearPasswordError from '../store/actrionCreaters/clearPasswordError';\r\nimport clearProfileError from '../store/actrionCreaters/clearProfileError';\r\nimport setPasswordError from '../store/actrionCreaters/setPasswordError';\r\nimport setProfile from '../store/actrionCreaters/setProfile';\r\nimport setProfileError from '../store/actrionCreaters/setProfileError';\r\nimport setSearchUsers from '../store/actrionCreaters/setSearchUsers';\r\nimport checkChatRoot from '../store/selectors/checkChatRoot';\r\nimport selectSearchUsers from '../store/selectors/selectSearchUsers';\r\nimport { UpdateProfileUser } from '../types/User';\r\nimport Store from '../utils/Store';\r\n\r\nclass UsersService {\r\n  private api: UsersAPI;\r\n\r\n  constructor() {\r\n    this.api = new UsersAPI();\r\n  }\r\n\r\n  public async search(login: string) {\r\n    try {\r\n      const state = Store.getState();\r\n      const chatRoot = checkChatRoot(state);\r\n      if (login.length < 3 || !chatRoot) {\r\n        const searchUsers = selectSearchUsers(state);\r\n        if (searchUsers.length > 0) {\r\n          Store.dispatch(setSearchUsers([]));\r\n        }\r\n        return;\r\n      }\r\n      const users = await this.api.search(login);\r\n      Store.dispatch(setSearchUsers(users));\r\n    } catch (error) {\r\n      // eslint-disable-next-line no-console\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  public async updateProfile(user: UpdateProfileUser) {\r\n    try {\r\n      const profile = await this.api.update(user);\r\n      Store.dispatch(setProfile(profile));\r\n      Store.dispatch(clearProfileError());\r\n    } catch (error) {\r\n      Store.dispatch(setProfileError(error));\r\n    }\r\n  }\r\n\r\n  public async updatePassword(user: {\r\n    oldPassword: string,\r\n    newPassword: string,\r\n  }) {\r\n    try {\r\n      await this.api.updatePassword(user);\r\n      Store.dispatch(clearPasswordError());\r\n    } catch (error) {\r\n      Store.dispatch(setPasswordError(error));\r\n    }\r\n  }\r\n\r\n  public async updateAvatar(avatarFile: File) {\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('avatar', avatarFile);\r\n      const profile = await this.api.updateAvatar(formData);\r\n      Store.dispatch(setProfile(profile));\r\n    } catch (error) {\r\n      // eslint-disable-next-line no-console\r\n      console.log(error);\r\n    }\r\n  }\r\n}\r\n\r\nexport default new UsersService();\r\n","import { Member } from '../../types/User';\r\nimport selectActiveChat from './selectActiveChat';\r\nimport selectSearchUsers from './selectSearchUsers';\r\n\r\nfunction selectMembersWithUsers(state: Indexed): Array<Member> {\r\n  const activeChat = selectActiveChat(state);\r\n  if (!activeChat) {\r\n    return [];\r\n  }\r\n  const members = activeChat.members || [];\r\n  const membersId = members.map((mem) => mem.id);\r\n  const searchUsers = selectSearchUsers(state);\r\n  const searchMembers: Array<Member> = searchUsers\r\n    .filter((user) => {\r\n      if (membersId.includes(user.id)) {\r\n        return false;\r\n      }\r\n      return true;\r\n    })\r\n    .map((user) => ({ ...user, role: 'none' }));\r\n  const users = members.concat(searchMembers);\r\n  return users;\r\n}\r\n\r\nexport default selectMembersWithUsers;\r\n",".chat-settings-users\r\n  each val in members ? members : ['There are no values']  \r\n    | !{val}","import ChatSettingsUsers from './ChatSettingsUsers';\r\n\r\nexport default ChatSettingsUsers;\r\n","import Block from '../../utils/Block';\r\nimport MemberItom from '../MemberItom';\r\n\r\nimport chatSettingsUsers from './chatSettingsUsers.pug';\r\n\r\nclass ChatSettingsUsers extends Block {\r\n  constructor() {\r\n    super('div', {}, {\r\n      searchValue: '',\r\n      members: [],\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const members = this.props.members\r\n      .filter((chat: MemberItom) => chat.props.login.startsWith(this.props.searchValue));\r\n    return chatSettingsUsers({\r\n      members,\r\n    });\r\n  }\r\n}\r\n\r\nexport default ChatSettingsUsers;\r\n",".chat-settings_header\r\n  | #{header}\r\n.chat-settings_search\r\n  | !{search}\r\n.chat-settings_members\r\n  | !{members}",".member-itom\r\n  .member-itom__profile !{profile}\r\n  .member-itom__button !{button}","import MemberItom from './MemberItom';\r\n\r\nexport default MemberItom;\r\n","import MembersService from '../../services/MembersService';\r\nimport { Member } from '../../types/User';\r\nimport Block from '../../utils/Block';\r\nimport getAvatar from '../../utils/getAvatar';\r\nimport Button from '../Button';\r\nimport Icon from '../Icon';\r\nimport ProfileButton from '../ProfileButton';\r\nimport memberItom from './memberItom.pug';\r\n\r\nconst getManageButton = (role: string, id: number, root: boolean) => {\r\n  if (!root || role === 'admin') {\r\n    return '';\r\n  }\r\n  if (role === 'none') {\r\n    return new Button({\r\n      content: new Icon({\r\n        name: 'plus-square',\r\n      }),\r\n      theme: 'icon',\r\n      onclick: () => MembersService.add(id),\r\n    });\r\n  }\r\n  return new Button({\r\n    content: new Icon({\r\n      name: 'trash-2',\r\n    }),\r\n    theme: 'icon',\r\n    onclick: () => MembersService.delete(id),\r\n  });\r\n};\r\n\r\nclass MemberItom extends Block {\r\n  constructor(props: {\r\n    root: boolean,\r\n    member: Member\r\n  }) {\r\n    super('div', {}, {\r\n      login: props.member.login,\r\n      profile: new ProfileButton({\r\n        avatar: getAvatar(props.member.avatar),\r\n        name: `${props.member.first_name} ${props.member.second_name} (${props.member.login})`,\r\n        link: `/user/${props.member.login}`,\r\n      }),\r\n      button: getManageButton(props.member.role, props.member.id, props.root),\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return memberItom(this.props);\r\n  }\r\n}\r\n\r\nexport default MemberItom;\r\n","import ChatSettings from './ChatSettings';\r\n\r\nexport default ChatSettings;\r\n","import UsersService from '../../services/UsersService';\r\nimport selectActiveChat from '../../store/selectors/selectActiveChat';\r\nimport selectMembersWithUsers from '../../store/selectors/selectMembersWithUsers';\r\nimport Block from '../../utils/Block';\r\nimport memoize from '../../utils/memoize';\r\nimport Store from '../../utils/Store';\r\nimport ChatSettingsUsers from '../ChatSettingsUsers';\r\nimport Input from '../Input';\r\nimport chatSettings from './chatSettings.pug';\r\nimport checkChatRoot from '../../store/selectors/checkChatRoot';\r\nimport MemberItom from '../MemberItom';\r\n\r\nclass ChatSettings extends Block {\r\n  constructor() {\r\n    super('div', {}, {\r\n      header: '',\r\n      members: new ChatSettingsUsers(),\r\n      search: new Input({\r\n        placeholder: ' ',\r\n        name: 'searchUsers',\r\n        type: 'text',\r\n        events: {\r\n          input: (e: KeyboardEvent) => {\r\n            if (!e.target) {\r\n              return;\r\n            }\r\n            const input = e.target as HTMLInputElement;\r\n            this.props.members.setProps({ searchValue: input.value });\r\n            UsersService.search(input.value);\r\n          },\r\n        },\r\n      }),\r\n    });\r\n  }\r\n\r\n  setClass() {\r\n    const baseClass = 'chat-settings';\r\n    this.attrs.class = baseClass;\r\n  }\r\n\r\n  componentDidMount() {\r\n    const memoizeSetTitle = memoize(\r\n      (state) => selectActiveChat(state),\r\n      (data) => {\r\n        if (!data) {\r\n          return;\r\n        }\r\n        this.setProps({\r\n          header: data.title,\r\n        });\r\n      },\r\n    );\r\n    const memoizeUsers = memoize(\r\n      (state) => ({\r\n        members: selectMembersWithUsers(state),\r\n        root: checkChatRoot(state),\r\n      }),\r\n      ({ members, root }) => {\r\n        this.props.members.setProps({\r\n          members: members.map((member) => new MemberItom({ root, member })),\r\n        });\r\n      },\r\n    );\r\n    Store.subscribe((state) => {\r\n      memoizeSetTitle(state);\r\n      memoizeUsers(state);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    this.setClass();\r\n    return chatSettings(this.props);\r\n  }\r\n}\r\n\r\nexport default ChatSettings;\r\n","import ChatsList from '../../components/ChatsList';\r\nimport Block from '../../utils/Block';\r\nimport chat from './chat.pug';\r\nimport ChatWindow from '../../components/ChatWindow';\r\nimport PopUp from '../../components/PopUp';\r\nimport Store from '../../utils/Store';\r\nimport setChatNamePopUpDisable from '../../store/actrionCreaters/setChatNamePopUpDisable';\r\nimport CreateChat from '../../components/CreateChat';\r\nimport selectCreateChatPopUpVisible from '../../store/selectors/selectCreateChatPopUpVisible';\r\nimport setChatSettingsPopUpDisable from '../../store/actrionCreaters/setChatSettingsPopUpDisable';\r\nimport selectChatSettingPopUpVisible from '../../store/selectors/selectChatSettingPopUpVisible';\r\nimport ChatSettings from '../../components/ChatSettings';\r\nimport memoize from '../../utils/memoize';\r\nimport AuthService from '../../services/AuthService';\r\nimport ChatsService from '../../services/ChatsService';\r\n\r\nexport default class Chat extends Block {\r\n  constructor() {\r\n    super('div', {}, {\r\n      chatList: new ChatsList(),\r\n      chatWindow: new ChatWindow(),\r\n      chatNamePopUp: new PopUp({\r\n        disableFunc: () => {\r\n          Store.dispatch(setChatNamePopUpDisable());\r\n        },\r\n        content: new CreateChat(),\r\n        active: true,\r\n      }),\r\n      chatSettingsPopUp: new PopUp({\r\n        disableFunc: () => {\r\n          Store.dispatch(setChatSettingsPopUpDisable());\r\n        },\r\n        content: new ChatSettings(),\r\n        active: true,\r\n      }),\r\n    });\r\n  }\r\n\r\n  setClass() {\r\n    const baseClass = 'chat';\r\n    this.attrs.class = baseClass;\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.title = ' ';\r\n    AuthService.getProfile();\r\n    ChatsService.init();\r\n    const memoizeCreateChat = memoize(\r\n      (state) => selectCreateChatPopUpVisible(state),\r\n      (data) => {\r\n        this.props.chatNamePopUp.setProps({\r\n          active: data,\r\n        });\r\n      },\r\n    );\r\n    const memoizeChatSetting = memoize(\r\n      (state) => selectChatSettingPopUpVisible(state),\r\n      (data) => {\r\n        this.props.chatSettingsPopUp.setProps({\r\n          active: data,\r\n        });\r\n      },\r\n    );\r\n    Store.subscribe((state) => {\r\n      memoizeCreateChat(state);\r\n      memoizeChatSetting(state);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    this.setClass();\r\n    return chat({\r\n      chatList: this.props.chatList,\r\n      chatWindow: this.props.chatWindow,\r\n      chatNamePopUp: this.props.chatNamePopUp,\r\n      chatSettingsPopUp: this.props.chatSettingsPopUp,\r\n    });\r\n  }\r\n}\r\n","include ../../templates/centering/centering\r\n\r\n+centering\r\n  div \r\n    | !{form}","import ApiError from '../../types/ApiError';\r\n\r\nconst selectPasswordError = (state: Indexed) => state.errors.password as ApiError | undefined;\r\n\r\nexport default selectPasswordError;\r\n","import ApiError from '../../types/ApiError';\r\n\r\nconst selectProfileError = (state: Indexed) => state.errors.profile as ApiError | undefined;\r\n\r\nexport default selectProfileError;\r\n","span.button__text !{content}","import InputFile from './InputFile';\r\n\r\nexport default InputFile;\r\n","import BlockEvent from '../../types/BlockEvent';\r\nimport Block from '../../utils/Block';\r\nimport inputFile from './inputFile.pug';\r\n\r\nclass InputFile extends Block {\r\n  constructor(props: {\r\n    onchange: BlockEvent,\r\n    accept: string,\r\n    id: string,\r\n  }) {\r\n    super('input', {\r\n      type: 'file',\r\n      accept: props.accept,\r\n      id: props.id,\r\n    }, {\r\n      events: {\r\n        change: props.onchange,\r\n      },\r\n    });\r\n  }\r\n\r\n  setClass() {\r\n    const baseClass = 'input-file';\r\n\r\n    this.attrs.class = baseClass;\r\n  }\r\n\r\n  render() {\r\n    this.setClass();\r\n    return inputFile(this.props);\r\n  }\r\n}\r\n\r\nexport default InputFile;\r\n","label(for= forId) \r\n  .avatar-changer__img-wrapper\r\n    img.avatar-changer__img(src= avatarLink)\r\n.avatar-changer__input\r\n  | !{input}","import AvatarChanger from './AvatarChanger';\r\n\r\nexport default AvatarChanger;\r\n","import BlockEvent from '../../types/BlockEvent';\r\nimport Block from '../../utils/Block';\r\nimport InputFile from '../InputFile';\r\nimport avatarChanger from './avatarChanger.pug';\r\n\r\nclass AvatarChanger extends Block {\r\n  constructor(props: {\r\n    name: string,\r\n    onchange: BlockEvent,\r\n    avatarLink: string,\r\n  }) {\r\n    super('div', {}, {\r\n      input: new InputFile({\r\n        accept: 'image/*',\r\n        id: props.name,\r\n        onchange: props.onchange,\r\n      }),\r\n      forId: props.name,\r\n      link: props.avatarLink,\r\n    });\r\n  }\r\n\r\n  setClass() {\r\n    const baseClass = 'avatar-changer';\r\n    this.attrs.class = baseClass;\r\n  }\r\n\r\n  render() {\r\n    this.setClass();\r\n    return avatarChanger(this.props);\r\n  }\r\n}\r\n\r\nexport default AvatarChanger;\r\n",".profile-editor\r\n  .profile-editor_body\r\n    .profile-editor_title\r\n      | #{title}\r\n    .profile-editor_avatar\r\n      | !{avatarChanger}\r\n    .profile-editor_dataform\r\n      | !{dataForm}\r\n    .profile-editor_passwordform\r\n      | !{passwordForm}\r\n  .profile-editor_helper\r\n    | !{helper}","import ProfileEditor from './ProfileEditor';\n\nexport default ProfileEditor;\n","import UsersService from '../../services/UsersService';\r\nimport selectPasswordError from '../../store/selectors/selectPasswordError';\r\nimport selectProfile from '../../store/selectors/selectProfile';\r\nimport selectProfileError from '../../store/selectors/selectProfileError';\r\nimport { UpdateProfileUser } from '../../types/User';\r\nimport Block from '../../utils/Block';\r\nimport getAvatar from '../../utils/getAvatar';\r\nimport memoize from '../../utils/memoize';\r\nimport Store from '../../utils/Store';\r\nimport AvatarChanger from '../AvatarChanger';\r\nimport Helper from '../Helper';\r\nimport MainForm from '../MainForm';\r\nimport profileEditor from './profileEditor.pug';\r\n\r\nclass ProfileEditor extends Block {\r\n  constructor(props: {\r\n    title: string,\r\n    helper?: Helper,\r\n  }) {\r\n    super('div', {}, {\r\n      title: props.title,\r\n      avatarChanger: new AvatarChanger({\r\n        name: 'avatar',\r\n        onchange: (e) => {\r\n          e?.preventDefault();\r\n          const { files } = e?.target as HTMLInputElement;\r\n          if (!files || !files[0]) {\r\n            return;\r\n          }\r\n          const [file] = files;\r\n          UsersService.updateAvatar(file);\r\n        },\r\n        avatarLink: '',\r\n      }),\r\n      dataForm: new MainForm({\r\n        valid: true,\r\n        buttonText: ' ',\r\n        fields: [{\r\n          placeholder: '',\r\n          name: 'first_name',\r\n          type: 'text',\r\n          validFunc: (value: string) => /^[-A-Z][-a-z]+$/.test(value),\r\n        }, {\r\n          placeholder: '',\r\n          name: 'second_name',\r\n          type: 'text',\r\n          validFunc: (value: string) => /^[-A-Z][-a-z]+$/.test(value),\r\n        }, {\r\n          placeholder: '',\r\n          name: 'login',\r\n          type: 'text',\r\n          validFunc: (value: string) => /^(?=.*[a-zA-Z_-])[a-zA-Z0-9-_]{3,20}$/.test(value),\r\n        }, {\r\n          placeholder: ' ',\r\n          name: 'display_name',\r\n          type: 'text',\r\n        }, {\r\n          placeholder: '',\r\n          name: 'email',\r\n          type: 'text',\r\n          validFunc: (value: string) => /^(?=.*[a-zA-Z_@-])[a-zA-Z_@-]+@[a-zA-Z_-]+\\.[a-zA-Z_-]+$/.test(value),\r\n        }, {\r\n          placeholder: '',\r\n          name: 'phone',\r\n          type: 'text',\r\n          validFunc: (value: string) => /^[\\d/+]\\d{9,14}$/.test(value),\r\n        }],\r\n        submit: (formObj: UpdateProfileUser) => {\r\n          UsersService.updateProfile(formObj);\r\n        },\r\n      }),\r\n      passwordForm: new MainForm({\r\n        valid: true,\r\n        buttonText: ' ',\r\n        fields: [{\r\n          placeholder: ' ',\r\n          name: 'oldPassword',\r\n          type: 'password',\r\n        }, {\r\n          placeholder: ' ',\r\n          name: 'newPassword',\r\n          type: 'password',\r\n          validFunc: (value: string) => /^(?=.*[A-Z-])(?=.*\\d).{8,40}$/.test(value),\r\n        }],\r\n        submit: (formObj: {\r\n          oldPassword: string,\r\n          newPassword: string,\r\n        }) => {\r\n          UsersService.updatePassword(formObj);\r\n        },\r\n      }),\r\n      helper: props.helper,\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    const memoizeProfileError = memoize(\r\n      (state) => selectProfileError(state),\r\n      (error) => {\r\n        this.props.dataForm.setProps({\r\n          error: error ? error.reason : undefined,\r\n        });\r\n      },\r\n    );\r\n    const memoizePasswordError = memoize(\r\n      (state) => selectPasswordError(state),\r\n      (error) => {\r\n        this.props.passwordForm.setProps({\r\n          error: error ? error.reason : undefined,\r\n        });\r\n      },\r\n    );\r\n    const memoizeProfile = memoize(\r\n      (state) => selectProfile(state),\r\n      (profile) => {\r\n        if (!profile) {\r\n          return;\r\n        }\r\n        this.props.avatarChanger.setProps({\r\n          avatarLink: getAvatar(profile.avatar),\r\n        });\r\n        this.props.dataForm.setFormValues({\r\n          first_name: profile.first_name,\r\n          second_name: profile.second_name,\r\n          login: profile.login,\r\n          display_name: profile.display_name,\r\n          email: profile.email,\r\n          phone: profile.phone,\r\n        });\r\n      },\r\n    );\r\n    Store.subscribe((state) => {\r\n      memoizeProfileError(state);\r\n      memoizePasswordError(state);\r\n      memoizeProfile(state);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return profileEditor({\r\n      title: this.props.title,\r\n      dataForm: this.props.dataForm,\r\n      passwordForm: this.props.passwordForm,\r\n      avatarChangeInput: this.props.avatarChangeInput,\r\n      helper: this.props.helper,\r\n      avatarChanger: this.props.avatarChanger,\r\n    });\r\n  }\r\n}\r\n\r\nexport default ProfileEditor;\r\n","import Profile from './Profile';\r\n\r\nexport default Profile;\r\n","import Block from '../../utils/Block';\r\nimport profile from './profile.pug';\r\nimport Helper from '../../components/Helper';\r\nimport AuthService from '../../services/AuthService';\r\nimport ProfileEditor from '../../components/ProfileEditor';\r\n\r\nexport default class Profile extends Block {\r\n  constructor() {\r\n    super('div', {}, {\r\n      regForm: new ProfileEditor({\r\n        title: ' ',\r\n        helper: new Helper({\r\n          text: '',\r\n          onclick: async () => {\r\n            await AuthService.logout();\r\n          },\r\n          textLink: '',\r\n        }),\r\n      }),\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.title = ' ';\r\n    AuthService.getProfile();\r\n  }\r\n\r\n  render() {\r\n    return profile({\r\n      form: this.props.regForm,\r\n    });\r\n  }\r\n}\r\n","import Reducer from '../../utils/Reducer';\r\n\r\nconst popUpReducer: Reducer<{ [index: string]: boolean }> = (\r\n  state = { chatSetting: false, chatName: false },\r\n  action,\r\n) => {\r\n  switch (action.type) {\r\n    case 'popUp/SETCHATSETTINGACTIVE':\r\n      return { ...state, chatSetting: true };\r\n    case 'popUp/SETCHATSETTINGDISABLE':\r\n      return { ...state, chatSetting: false };\r\n    case 'popUp/SETCHATNAMEACTIVE':\r\n      return { ...state, chatName: true };\r\n    case 'popUp/SETCHATNAMEDISABLE':\r\n      return { ...state, chatName: false };\r\n    case 'popUp/CLOSEALL':\r\n      return Object.keys(state).reduce((res: { [index: string]: boolean }, key) => ({\r\n        ...res,\r\n        [key]: false,\r\n      }), {});\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default popUpReducer;\r\n","import Chat from '../../types/Chat';\r\nimport Reducer from '../../utils/Reducer';\r\n\r\nconst chatsReducer: Reducer<Array<Chat>> = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'chats/SET':\r\n      return action.payload;\r\n    case 'chats/SETMEMBERS':\r\n      return state.map((chat: Chat) => {\r\n        if (chat.id === action.payload.chatId) {\r\n          return {\r\n            ...chat,\r\n            members: action.payload.members,\r\n          };\r\n        }\r\n        return { ...chat };\r\n      });\r\n    case 'chats/ADDNEWMESSAGES':\r\n      return state.map((chat: Chat) => {\r\n        if (chat.id === action.payload.chatId) {\r\n          return {\r\n            ...chat,\r\n            messages: chat.messages\r\n              ? action.payload.messages.concat(chat.messages)\r\n              : action.payload.messages,\r\n          };\r\n        }\r\n        return { ...chat };\r\n      });\r\n    case 'chats/ADDOLDMESSAGES':\r\n      return state.map((chat: Chat) => {\r\n        if (chat.id === action.payload.chatId) {\r\n          return {\r\n            ...chat,\r\n            messages: chat.messages\r\n              ? chat.messages.concat(action.payload.messages)\r\n              : action.payload.messages,\r\n          };\r\n        }\r\n        return { ...chat };\r\n      });\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default chatsReducer;\r\n","import Reducer from '../../utils/Reducer';\r\n\r\nconst currentChatReducer: Reducer<{ id: number | undefined }> = (\r\n  state = { id: undefined },\r\n  action,\r\n) => {\r\n  switch (action.type) {\r\n    case 'currentChat/SETACTIVECHATID':\r\n      return { ...state, activeChatId: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default currentChatReducer;\r\n","import { User } from '../../types/User';\r\nimport Reducer from '../../utils/Reducer';\r\n\r\nconst searchUsersReducer: Reducer<Array<User>> = (\r\n  state = [],\r\n  action,\r\n) => {\r\n  switch (action.type) {\r\n    case 'searchUsers/SETUSERS':\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default searchUsersReducer;\r\n","import { Profile } from '../../types/User';\r\nimport Reducer from '../../utils/Reducer';\r\n\r\nconst profileReducer: Reducer<Profile | undefined> = (\r\n  state = undefined,\r\n  action,\r\n) => {\r\n  switch (action.type) {\r\n    case 'profile/SET':\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default profileReducer;\r\n","import ApiError from '../../types/ApiError';\r\nimport Reducer from '../../utils/Reducer';\r\n\r\nconst errorsReducer: Reducer<{\r\n  auth?: ApiError,\r\n  reg?: ApiError,\r\n  profile?: ApiError,\r\n  password?: ApiError,\r\n}> = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'errors/SETAUTH':\r\n      return { ...state, auth: action.payload };\r\n    case 'errors/SETREG':\r\n      return { ...state, reg: action.payload };\r\n    case 'errors/SETPROFILE':\r\n      return { ...state, profile: action.payload };\r\n    case 'errors/CLEARPROFILE':\r\n      return { ...state, profile: undefined };\r\n    case 'errors/SETPASSWORD':\r\n      return { ...state, password: action.payload };\r\n    case 'errors/CLEARPASSWORD':\r\n      return { ...state, password: undefined };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default errorsReducer;\r\n","import Store from '../utils/Store';\r\nimport popUpReducer from './reducers/popUpReducer';\r\nimport chatsReducer from './reducers/chatsReducer';\r\nimport currentChatReducer from './reducers/currentChatReducer';\r\nimport searchUsersReducer from './reducers/searchUsersReducer';\r\nimport profileReducer from './reducers/profileReducer';\r\nimport errorsReducer from './reducers/errorsReducer';\r\n\r\nconst createStore = () => {\r\n  Store\r\n    .addReducer('popUp', popUpReducer)\r\n    .addReducer('chats', chatsReducer)\r\n    .addReducer('currentChat', currentChatReducer)\r\n    .addReducer('searchUsers', searchUsersReducer)\r\n    .addReducer('profile', profileReducer)\r\n    .addReducer('errors', errorsReducer);\r\n};\r\n\r\nexport default createStore;\r\n","import Reg from './pages/reg/Reg';\nimport Auth from './pages/auth/Auth';\nimport Chat from './pages/chat/Chat';\nimport Profile from './pages/profile';\nimport Router from './utils/Router';\nimport createStore from './store/createStore';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  function render(query: string) {\n    const root = document.querySelector(query) as HTMLElement;\n    if (root === null) {\n      return;\n    }\n    createStore();\n    const router = new Router(root);\n    router\n      .use('/', Chat)\n      .use('/auth/', Auth)\n      .use('/reg/', Reg)\n      .use('/profile/', Profile)\n      .start();\n  }\n  /* let page;\n    const path = window.location.pathname;\n    switch (path) {\n      case '/':\n        page = new Reg();\n        break;\n      case '/reg.html':\n        page = new Reg();\n        break;\n      case '/auth.html':\n        page = new Auth();\n        break;\n      case '/chat.html':\n        page = new Chat();\n        break;\n      case '/profile.html':\n        page = new Profile();\n        break;\n      case '/500.html':\n        page = new Error500();\n        break;\n      default:\n        page = new Error404();\n        break;\n    }\n    root.appendChild(page.element); */\n\n  render('.root');\n});\n"],"names":["$38026a9ed565dc52$var$getRandomValues","self","ReferenceError","$9b87351ef801e4cd$var$asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","fn","this","args","arguments","apply","err","undefined","instance","Constructor","TypeError","$703ade20f539bb69$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","protoProps","staticProps","prototype","obj","$107af2fef509b326$var$getPrototypeOf","o","setPrototypeOf","getPrototypeOf","o1","__proto__","$ad5f73dbf515998d$var$setPrototypeOf","p","p1","subClass","superClass","create","constructor","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","$9bd4e20b4209f41e$export$9099ad97b570f7c","Symbol","call","$e1af73daf95e7cc7$export$9099ad97b570f7c","$df56de5e860ae74d$export$9099ad97b570f7c","iter","iterator","toString","Array","from","arr","isArray","$2b7ce039f9f26e80$export$9099ad97b570f7c","$88f6080b3cdf367f$export$9099ad97b570f7c","$10849a8916615a61$export$9099ad97b570f7c","arr2","$c4f435f519e28545$export$9099ad97b570f7c","$de7b53565d7301ee$export$9099ad97b570f7c","$7e13edd7ae92189b$export$40339995e8a21591","$7e13edd7ae92189b$export$357eb1b4f03c1402","$7e13edd7ae92189b$var$mapping","pairs","id","resolved","Error","parcelRequire","register","JSON","parse","$38026a9ed565dc52$var$rnds8","Uint8Array","crypto","getRandomValues","bind","msCrypto","$4a35b9cbee84b5cd$export$9099ad97b570f7c","$3a1d0929f5d0bfe6$export$9099ad97b570f7c","uuid","test","$f8c32ead1a1aa705$var$byteToHex","$f8c32ead1a1aa705$var$i","push","substr","$f8c32ead1a1aa705$export$9099ad97b570f7c","offset","toLowerCase","$597d41264551f7ce$export$9099ad97b570f7c","options","buf","rnds","random","rng","$38026a9ed565dc52$export$9099ad97b570f7c","$3488ffa8a2b8549e$export$9099ad97b570f7c","$3488ffa8a2b8549e$var$EventBus","listeners","event","callback","listener","_len","_key","$ffab4627bc4f8796$export$9099ad97b570f7c","$d235986047d97541$var$Block","param","param1","param2","tagName","attrs","eventBus","meta","propsWithThis","$ae1290835be17792$export$9099ad97b570f7c","events","bindBlockToEvents","makePropsProxy","registerEvents","emit","EVENTS","INIT","on","init","FLOW_CDM","componentDidMountIn","FLOW_CDU","componentDidUpdateIn","FLOW_RENDER","renderIn","newEvents","entries","_param","func","e","Proxy","set","prop","val","old","createResources","elementIn","document","createElement","componentDidMount","block","fragment","innerHTML","values","reduce","blockProps","every","v","stub","content","querySelector","replaceWith","element","render","removeEvents","removeAttrs","renderBlocks","appendChild","addAttrs","addEvents","attr","setAttribute","removeAttribute","eventName","eventFunc","removeEventListener","addEventListener","oldProps","newProps","componentDidUpdate","nextProps","assign","_oldProps","_newProps","$d235986047d97541$export$9099ad97b570f7c","$94a61fd898244560$export$9099ad97b570f7c","locals","pug_interp","pug_html","pug_mixins","locals_for_with","form","attributes","$3a78d809099c9da1$export$9099ad97b570f7c","$55431b503dc3e470$export$9099ad97b570f7c","Block","$f0a5352a8f62c57a$var$Button","fullWidth","theme","click","onclick","baseClass","class","setClass","$27e5154905564e31$export$9099ad97b570f7c","$03104337aa379bd8$var$Input","placeholder","name","type","wrong","validFunc","fullHeight","$2d139a6cb101ca3f$var$pug_match_html","$2d139a6cb101ca3f$export$9099ad97b570f7c","button","fields","$$obj","pug_index0","$$l","a","t","exec","r","c","n","s","index","charCodeAt","substring","$2d139a6cb101ca3f$var$pug_escape","$1ff9116c1267e5c2$export$9099ad97b570f7c","Form","$2f91f5c1af5d482b$var$MainForm","buttonText","valid","submit","$08812760281a0e3c$var$Form","fieldsArray","map","f","blur","_e","comp","checkInput","focus","setProps","result","_this","getFormValues","checkValidFields","input","statusFields","field","inputBlock","find","sum","cur","$76a0cafa39ee3471$var$pug_match_html","$76a0cafa39ee3471$export$9099ad97b570f7c","helper","title","$76a0cafa39ee3471$var$pug_escape","$3738a429c8f9f828$export$9099ad97b570f7c","$14db0e0bc7c44931$var$Identification","$a6f68a85a713d8ac$var$pug_match_html","_xhr","$a6f68a85a713d8ac$export$9099ad97b570f7c","link","text","$a6f68a85a713d8ac$var$pug_escape","$47825f7a3c08cdf9$export$9099ad97b570f7c","$8fba0a089bcadbec$var$Helper","textLink","$7975f0466e69fa75$export$9099ad97b570f7c","$7975f0466e69fa75$var$Route","pathname","view","currentRoot","BlockClass","startsWith","$d3668987689645dc$export$9099ad97b570f7c","$d3668987689645dc$var$Router","routes","history","window","route","onpopstate","onRoute","location","getRoute","pushState","back","forward","match","$4865bdf24b429f1a$export$9099ad97b570f7c","$4865bdf24b429f1a$var$BaseAPI","$f77708e6ab50c94c$var$METHODS","$f77708e6ab50c94c$export$9099ad97b570f7c","$f77708e6ab50c94c$var$HTTP","startUrl","timeout","headers","url","newUrl","request","method","data","xhr","XMLHttpRequest","open","setRequestHeader","responseType","onload","status","response","onabort","onerror","ontimeout","withCredentials","FormData","send","stringify","$194fd09033c90079$var$authAPIInstance","$194fd09033c90079$export$9099ad97b570f7c","BaseAPI","$194fd09033c90079$var$AuthAPI","user","post","get","$a155d84deed139b7$export$9099ad97b570f7c","payload","$60bf10c28a6c0127$export$9099ad97b570f7c","profile","$06dbbc3d885e9b31$export$9099ad97b570f7c","$3326d7826da52b86$export$9099ad97b570f7c","$3326d7826da52b86$var$Store","state","reducers","reducer","dispatch","action","emitListeners","newState","reducer1","$a81814dbbb7b4997$var$runtime","exports","Op","hasOwn","hasOwnProperty","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","GenStateSuspendedStart","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","__await","value1","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","next1","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","async","object","reverse","key1","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","$a81814dbbb7b4997$exports","regeneratorRuntime","accidentalStrictMode","globalThis","Function","$d0f1508eb4cb99f6$export$9099ad97b570f7c","$d0f1508eb4cb99f6$var$AuthService","api","login","go","_ctx","t0","logout","console","log","$62085a1be1d7d0ab$var$isArrayOrObject","$62085a1be1d7d0ab$var$isPlainObject","$62085a1be1d7d0ab$var$isArray","$62085a1be1d7d0ab$export$9099ad97b570f7c","$62085a1be1d7d0ab$var$isEqual","lhs","rhs","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","_value","$db5d55e1f898797f$export$9099ad97b570f7c","rightValue","return","$9b89640f2eaf1cd6$export$9099ad97b570f7c","dataFunc","actionFunc","memo","$95466c6b08bdd77e$export$9099ad97b570f7c","errors","reg","$3357fbfc6eec2bd6$export$9099ad97b570f7c","regForm","formObj","checkNotAuth","memoizeErrorMessage","reason","subscribe","$a9a3e81a98c39c3c$export$9099ad97b570f7c","$6bf1acb309085071$export$9099ad97b570f7c","auth","$1e2eed7465dd542a$export$9099ad97b570f7c","$a8a02eb197ce40bd$var$chatsAPIInstance","$a8a02eb197ce40bd$export$9099ad97b570f7c","$a8a02eb197ce40bd$var$ChatsAPI","chatId","$6e0ee26f706e9a8f$export$9099ad97b570f7c","$7653e70ba0c030cf$export$9099ad97b570f7c","$2efd8d002383766c$export$9099ad97b570f7c","chats","$448fb8e977c18933$export$9099ad97b570f7c","chat","$4f2004889f4f3948$export$9099ad97b570f7c","messages","$0ea72680cb3811e4$export$9099ad97b570f7c","$26b9c0d705a49049$export$9099ad97b570f7c","currentChat","activeChatId","$6de0b410696c3330$export$9099ad97b570f7c","$7fcfc27f76c776dd$export$9099ad97b570f7c","$7fcfc27f76c776dd$var$MessagesService","sockets","chatsApi","ref","token","socket","getState","WebSocket","chat_id","message","$f781edf32df494a1$export$9099ad97b570f7c","$f781edf32df494a1$var$ChatsService","connect","getlastMessages","$1f7b08b1684b7ea7$var$pug_escape","$1f7b08b1684b7ea7$var$pug_match_html","$1f7b08b1684b7ea7$export$9099ad97b570f7c","author","count","date","img","toJSON","indexOf","replace","$1f7b08b1684b7ea7$var$pug_attr","$8600c1b3d0de7a1c$export$9099ad97b570f7c","$67a55f016cd32380$var$ChatItem","active","memoizeActiveChat","$375281ec9064f21d$var$pug_escape","$375281ec9064f21d$var$pug_match_html","$375281ec9064f21d$export$9099ad97b570f7c","avatar","$375281ec9064f21d$var$pug_attr","$f72e23be6382e4f4$export$9099ad97b570f7c","$6dc59fb382691492$var$ProfileButton","$e53064c50e127eae$export$9099ad97b570f7c","addChatButton","chatBar","search","$73ecde34a5dc557c$export$9099ad97b570f7c","$0b6904b77b18f8d6$export$9099ad97b570f7c","$5ba4f1d3c7495240$export$9099ad97b570f7c","time","Date","getHours","getMinutes","$3022654007367912$export$9099ad97b570f7c","$55c0d15c620c7770$export$9099ad97b570f7c","$1d138c9209ba2b80$var$ChatsBar","searchValue","$637835e926c7f4cf$export$da289beea9c5b10d","$637835e926c7f4cf$var$bundleURL","$637835e926c7f4cf$var$getBaseURL","matches","stack","$637835e926c7f4cf$var$getBundleURL","$57935a7a00b5d326$exports","getBundleURL","$ce4b8d1d877a3fb8$export$9099ad97b570f7c","$parcel$interopDefault","$1371de41e73df685$export$9099ad97b570f7c","$859a18b5d29a9b70$var$ChatsList","memoizeSelectChats","lastMessege","last_message","unread_count","memoizeGetProfile","first_name","second_name","$fba8b4c3d76cc4f2$export$9099ad97b570f7c","chatList","chatNamePopUp","chatSettingsPopUp","chatWindow","$001e120f7013b393$export$9099ad97b570f7c","chatSettingsButton","messagesList","$b14b20592dbff11b$export$9099ad97b570f7c","inputMessage","sendButton","$090558d744489588$export$9099ad97b570f7c","$91f4f779f28f2935$var$CreateMessege","sendMessage","preventDefault","$e3f971bfdfaa9bf2$export$9099ad97b570f7c","activeChat","$15c38cc90614d007$export$9099ad97b570f7c","$23648f67346dddb5$var$pug_escape","$23648f67346dddb5$var$pug_match_html","$23648f67346dddb5$export$9099ad97b570f7c","$7a340f682b8741a7$export$9099ad97b570f7c","$c36c1c5aed292b3d$var$Message","$4e1cf058758437bf$export$9099ad97b570f7c","$af199a127e609791$var$MessagesList","memoizeMessages","d","user_id","$f97a8f826277e508$var$membersAPIInstance","$f97a8f826277e508$export$9099ad97b570f7c","$f97a8f826277e508$var$MembersAPI","put","users","userId","delete","$566df4463536c6e2$export$9099ad97b570f7c","$80e5b3dcee92c45d$export$9099ad97b570f7c","$18b124b7f3f74623$export$9099ad97b570f7c","$18b124b7f3f74623$var$MembersService","members","$682c24667228d991$export$9099ad97b570f7c","$8d9e6d36b8e587e0$var$Icon","$782a8c70d4328059$export$9099ad97b570f7c","$785863cfe127ab7c$var$ChatWindow","openMembersPopUp","$a93090eed356f880$export$9099ad97b570f7c","$26224db3c05e5d76$export$9099ad97b570f7c","$304a65bfa4a89833$var$Button","mousedown","currentTarget","disableFunc","$8fde2ee7b0dcac59$export$9099ad97b570f7c","$7ae43137a2fe0a59$export$9099ad97b570f7c","$fce2215f67ac770e$var$CreateChat","$ff7c2acc064258e5$export$9099ad97b570f7c","popUp","chatName","$96600b1bff4048c8$export$9099ad97b570f7c","$145eb29eed60c5a1$export$9099ad97b570f7c","chatSetting","$06ae067238406c8d$var$userAPIInstance","$06ae067238406c8d$export$9099ad97b570f7c","$06ae067238406c8d$var$UsersAPI","pass","formData","$2c398bb1310cc91f$export$9099ad97b570f7c","$e843393736f184cb$export$9099ad97b570f7c","$b489cc79d8ee5f6d$export$9099ad97b570f7c","$c07fdb01ebe79017$export$9099ad97b570f7c","$d4ee6e1af71cbd69$export$9099ad97b570f7c","$af05fe374c1877c9$export$9099ad97b570f7c","created_by","$7032006437b56e9c$export$9099ad97b570f7c","searchUsers","$97e3737881549248$export$9099ad97b570f7c","$97e3737881549248$var$UsersService","chatRoot","update","updatePassword","avatarFile","append","updateAvatar","$642c003f99230846$export$9099ad97b570f7c","membersId","mem","searchMembers","includes","role","$b7d8ad7640813ac1$export$9099ad97b570f7c","$33fd5c38e9031f4c$export$9099ad97b570f7c","$be7db1642c5962c8$var$ChatSettingsUsers","$723f89bfa5c64e4a$var$pug_match_html","$723f89bfa5c64e4a$export$9099ad97b570f7c","header","$723f89bfa5c64e4a$var$pug_escape","$e5a56b61a8219480$export$9099ad97b570f7c","$9e73fd969f186b1f$export$9099ad97b570f7c","$18ef62c08a21efb5$var$MemberItom","member","root","add","$29a2bfe0760c1b43$export$9099ad97b570f7c","$eef681f218e10bef$var$ChatSettings","memoizeSetTitle","memoizeUsers","$6876f1da55f5dcc0$export$9099ad97b570f7c","getProfile","memoizeCreateChat","memoizeChatSetting","$91dd1eb6a5b8df63$export$9099ad97b570f7c","$9f70821d2965874d$export$9099ad97b570f7c","password","$0b1bc8ced21ecd9f$export$9099ad97b570f7c","$b33b44a2cf047ae8$export$9099ad97b570f7c","$29815e49c1c4f9fd$export$9099ad97b570f7c","$ec1a09d5306e90f6$var$InputFile","accept","change","onchange","$889565ad6882f79c$var$pug_attr","$889565ad6882f79c$var$pug_match_html","$889565ad6882f79c$var$pug_escape","$889565ad6882f79c$export$9099ad97b570f7c","avatarLink","forId","$c7c44d0977544c18$export$9099ad97b570f7c","$133e35c76d364c0e$var$AvatarChanger","$e4591c52fe03b5f7$var$pug_match_html","$e4591c52fe03b5f7$export$9099ad97b570f7c","avatarChanger","dataForm","passwordForm","$e4591c52fe03b5f7$var$pug_escape","$655f17b5e666457d$export$9099ad97b570f7c","$3d17601793241a85$var$ProfileEditor","files","file","updateProfile","memoizeProfileError","memoizePasswordError","memoizeProfile","setFormValues","display_name","email","phone","avatarChangeInput","$2bde630c361e805d$export$9099ad97b570f7c","$435b4fe80e214c72$export$9099ad97b570f7c","$4fc87d59b6e075c7$export$9099ad97b570f7c","res","$e331e19c640eabb9$export$9099ad97b570f7c","$4fc1e3d4679106a9$export$9099ad97b570f7c","$989d6716fab146bb$export$9099ad97b570f7c","$613c9babbf3593ae$export$9099ad97b570f7c","$58ca21957d18e739$export$9099ad97b570f7c","$1edd5cf8f3131c9d$export$9099ad97b570f7c","addReducer","query","use","start"],"version":3,"file":"404.ecee57f6.js.map"}